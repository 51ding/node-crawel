<!doctype html>
<html lang="zh-cmn-Hans">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>child_process | Node.js API &#x6587;&#x6863;</title>
  <link rel="stylesheet" href="/static/api.css?20171003">
  <link rel="icon" sizes="32x32" type="image/png" href="/static/favicon.png">
</head>
<body class="alt apidoc" id="api-section-child_process">
  <div id="content" class="clearfix">
    <div id="column2" class="interior">
      <div id="intro" class="interior">
        <a href="/">
          Node.js &#x4E2D;&#x6587;&#x7F51;
        </a>
        <div>
          <input placeholder="API &#x5FEB;&#x901F;&#x641C;&#x7D22;" id="search_input">
        </div>
      </div>
      <ul>
<li><a class="nav-assert" href="assert.html">assert - &#x65AD;&#x8A00;</a></li>
<li><a class="nav-buffer" href="buffer.html">Buffer - &#x7F13;&#x51B2;&#x5668;</a></li>
<li><a class="nav-child_process active" href="child_process.html">child_process - &#x5B50;&#x8FDB;&#x7A0B;</a></li>
<li><a class="nav-cluster" href="cluster.html">cluster - &#x96C6;&#x7FA4;</a></li>
<li><a class="nav-console" href="console.html">console - &#x63A7;&#x5236;&#x53F0;</a></li>
<li><a class="nav-crypto" href="crypto.html">crypto - &#x52A0;&#x5BC6;</a></li>
<li><a class="nav-dgram" href="dgram.html">dgram - &#x6570;&#x636E;&#x62A5;</a></li>
<li><a class="nav-dns" href="dns.html">dns - &#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;</a></li>
<li><a class="nav-errors" href="errors.html">Error - &#x5F02;&#x5E38;</a></li>
<li><a class="nav-events" href="events.html">events - &#x4E8B;&#x4EF6;</a></li>
<li><a class="nav-fs" href="fs.html">fs - &#x6587;&#x4EF6;&#x7CFB;&#x7EDF;</a></li>
<li><a class="nav-globals" href="globals.html">global - &#x5168;&#x5C40;&#x53D8;&#x91CF;</a></li>
<li><a class="nav-http" href="http.html">http - HTTP</a></li>
<li><a class="nav-https" href="https.html">https - HTTPS</a></li>
<li><a class="nav-modules" href="modules.html">module - &#x6A21;&#x5757;</a></li>
<li><a class="nav-net" href="net.html">net - &#x7F51;&#x7EDC;</a></li>
<li><a class="nav-os" href="os.html">os - &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</a></li>
<li><a class="nav-path" href="path.html">path - &#x8DEF;&#x5F84;</a></li>
<li><a class="nav-process" href="process.html">process - &#x8FDB;&#x7A0B;</a></li>
<li><a class="nav-querystring" href="querystring.html">querystring - &#x67E5;&#x8BE2;&#x5B57;&#x7B26;&#x4E32;</a></li>
<li><a class="nav-readline" href="readline.html">readline - &#x9010;&#x884C;&#x8BFB;&#x53D6;</a></li>
<li><a class="nav-repl" href="repl.html">repl - &#x4EA4;&#x4E92;&#x5F0F;&#x89E3;&#x91CA;&#x5668;</a></li>
<li><a class="nav-stream" href="stream.html">stream - &#x6D41;</a></li>
<li><a class="nav-string_decoder" href="string_decoder.html">string_decoder - &#x5B57;&#x7B26;&#x4E32;&#x89E3;&#x7801;&#x5668;</a></li>
<li><a class="nav-timers" href="timers.html">timer - &#x5B9A;&#x65F6;&#x5668;</a></li>
<li><a class="nav-tls" href="tls.html">tls - &#x5B89;&#x5168;&#x4F20;&#x8F93;&#x5C42;</a></li>
<li><a class="nav-tty" href="tty.html">tty - &#x7EC8;&#x7AEF;</a></li>
<li><a class="nav-url" href="url.html">url - &#x7F51;&#x5740;</a></li>
<li><a class="nav-util" href="util.html">util - &#x5B9E;&#x7528;&#x5DE5;&#x5177;</a></li>
<li><a class="nav-v8" href="v8.html">v8 - V8&#x5F15;&#x64CE;</a></li>
<li><a class="nav-vm" href="vm.html">vm - &#x865A;&#x62DF;&#x673A;</a></li>
<li><a class="nav-zlib" href="zlib.html">zlib - &#x538B;&#x7F29;</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav--api-documentation-documentation_stability_index" href="/api/documentation.html#documentation_stability_index">&#x8BD5;&#x9A8C;&#x7684;API</a></li>
<li><a class="nav-async_hooks" href="async_hooks.html">async_hooks</a></li>
<li><a class="nav-http2" href="http2.html">http2</a></li>
<li><a class="nav-inspector" href="inspector.html">inspector</a></li>
<li><a class="nav-n-api" href="n-api.html">napi</a></li>
<li><a class="nav-perf_hooks" href="perf_hooks.html">perf_hooks</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-deprecations" href="deprecations.html">&#x5E9F;&#x5F03;&#x7684;API</a></li>
<li><a class="nav-domain" href="domain.html">domain</a></li>
<li><a class="nav-punycode" href="punycode.html">punycode</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-documentation" href="documentation.html">&#x5173;&#x4E8E;&#x672C;&#x6587;&#x6863;</a></li>
<li><a class="nav-synopsis" href="synopsis.html">&#x7528;&#x6CD5;&#x4E0E;&#x4F8B;&#x5B50;</a></li>
<li><a class="nav-addons" href="addons.html">C++&#x63D2;&#x4EF6;</a></li>
<li><a class="nav-cli" href="cli.html">&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;</a></li>
<li><a class="nav-debugger" href="debugger.html">debugger&#x8C03;&#x8BD5;&#x5668;</a></li>
<li><a class="nav-intl" href="intl.html">&#x56FD;&#x9645;&#x5316;</a></li>
<li><a class="nav-tracing" href="tracing.html">&#x4E8B;&#x4EF6;&#x8DDF;&#x8E2A;</a></li>
<li><a class="nav-esm" href="esm.html">ECMAScript &#x6A21;&#x5757;</a></li>
</ul>

    </div>

    <div id="column1" data-id="child_process" class="interior">
      <header>
        <h1>Node.js v8.9.3 &#x6587;&#x6863;</h1>
        <div id="gtoc">
          <p>
            <a href="/api/" name="toc">&#x8FD4;&#x56DE;&#x6587;&#x6863;&#x9996;&#x9875;</a>
            <!--<a href="/api/all.html">单页面显示</a> |-->
            <!--<a href="/api/child_process.json">JSON格式</a> |-->
            <!--<a href="/api/en/child_process.html">查看英文版</a>-->
          </p>
        </div>
        <hr>
      </header>

      <div id="toc">
        <h2>&#x76EE;&#x5F55;</h2>
        <ul>
<li><span class="stability_2"><a href="#child_process_child_process">child_process (&#x5B50;&#x8FDB;&#x7A0B;)</a></span><ul>
<li><span class="stability_undefined"><a href="#child_process_asynchronous_process_creation">&#x521B;&#x5EFA;&#x5F02;&#x6B65;&#x8FDB;&#x7A0B;</a></span><ul>
<li><span class="stability_undefined"><a href="#child_process_spawning_bat_and_cmd_files_on_windows">&#x5728; Windows &#x4E0A;&#x884D;&#x751F; <code>.bat</code> &#x548C; <code>.cmd</code> &#x6587;&#x4EF6;</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_child_process_exec_command_options_callback">child_process.exec(command[, options][, callback])</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_child_process_execfile_file_args_options_callback">child_process.execFile(file[, args][, options][, callback])</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_child_process_fork_modulepath_args_options">child_process.fork(modulePath[, args][, options])</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_child_process_spawn_command_args_options">child_process.spawn(command[, args][, options])</a></span><ul>
<li><span class="stability_undefined"><a href="#child_process_options_detached">options.detached</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_options_stdio">options.stdio</a></span></li>
</ul>
</li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#child_process_synchronous_process_creation">&#x521B;&#x5EFA;&#x540C;&#x6B65;&#x8FDB;&#x7A0B;</a></span><ul>
<li><span class="stability_undefined"><a href="#child_process_child_process_execfilesync_file_args_options">child_process.execFileSync(file[, args][, options])</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_child_process_execsync_command_options">child_process.execSync(command[, options])</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_child_process_spawnsync_command_args_options">child_process.spawnSync(command[, args][, options])</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#child_process_class_childprocess">ChildProcess &#x7C7B;</a></span><ul>
<li><span class="stability_undefined"><a href="#child_process_event_close">&apos;close&apos; &#x4E8B;&#x4EF6;</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_event_disconnect">&apos;disconnect&apos; &#x4E8B;&#x4EF6;</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_event_error">&apos;error&apos; &#x4E8B;&#x4EF6;</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_event_exit">&apos;exit&apos; &#x4E8B;&#x4EF6;</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_event_message">&apos;message&apos; &#x4E8B;&#x4EF6;</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_channel">subprocess.channel</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_connected">subprocess.connected</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_disconnect">subprocess.disconnect()</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_kill_signal">subprocess.kill([signal])</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_killed">subprocess.killed</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_pid">subprocess.pid</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_send_message_sendhandle_options_callback">subprocess.send(message[, sendHandle[, options]][, callback])</a></span><ul>
<li><span class="stability_undefined"><a href="#child_process_example_sending_a_server_object">&#x4F8B;&#x5B50;&#xFF1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A; server &#x5BF9;&#x8C61;</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_example_sending_a_socket_object">&#x4F8B;&#x5B50;&#xFF1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A; socket &#x5BF9;&#x8C61;</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_stderr">subprocess.stderr</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_stdin">subprocess.stdin</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_stdio">subprocess.stdio</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_subprocess_stdout">subprocess.stdout</a></span></li>
</ul>
</li>
<li><span class="stability_undefined"><a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code> &#x4E0E; Unicode</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_shell_requirements">Shell Requirements</a></span></li>
<li><span class="stability_undefined"><a href="#child_process_default_windows_shell">Default Windows Shell</a></span></li>
</ul>
</li>
</ul>

      </div>

      <div id="apicontent">
        <h1>child_process (&#x5B50;&#x8FDB;&#x7A0B;)<span><a class="mark" href="#child_process_child_process" id="child_process_child_process">#</a></span></h1><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_child_process">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/child_process.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<!--introduced_in=v0.10.0-->
<div class="api_stability api_stability_2"><a href="documentation.html#documentation_stability_index">&#x7A33;&#x5B9A;&#x6027;: 2</a> - &#x7A33;&#x5B9A;&#x7684;</div><p><code>child_process</code> &#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x4E86;&#x884D;&#x751F;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5B83;&#x4E0E; <a href="http://man7.org/linux/man-pages/man3/popen.3.html">popen(3)</a> &#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x4E0D;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x3002;
&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x4E3B;&#x8981;&#x7531; <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a> &#x51FD;&#x6570;&#x63D0;&#x4F9B;&#xFF1A;</p>
<pre><code class="lang-js">const { spawn } = require(&apos;child_process&apos;);
const ls = spawn(&apos;ls&apos;, [&apos;-lh&apos;, &apos;/usr&apos;]);

ls.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(`&#x8F93;&#x51FA;&#xFF1A;${data}`);
});

ls.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.log(`&#x9519;&#x8BEF;&#xFF1A;${data}`);
});

ls.on(&apos;close&apos;, (code) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x7801;&#xFF1A;${code}`);
});
</code></pre>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728; Node.js &#x7684;&#x7236;&#x8FDB;&#x7A0B;&#x4E0E;&#x884D;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x4F1A;&#x5EFA;&#x7ACB; <code>stdin</code>&#x3001;<code>stdout</code> &#x548C; <code>stderr</code> &#x7684;&#x7BA1;&#x9053;&#x3002;
&#x6570;&#x636E;&#x80FD;&#x4EE5;&#x975E;&#x963B;&#x585E;&#x7684;&#x65B9;&#x5F0F;&#x5728;&#x7BA1;&#x9053;&#x4E2D;&#x6D41;&#x901A;&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x6709;&#x4E9B;&#x7A0B;&#x5E8F;&#x4F1A;&#x5728;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x884C;&#x7F13;&#x51B2; I/O&#x3002;
&#x867D;&#x7136;&#x8FD9;&#x5E76;&#x4E0D;&#x5F71;&#x54CD; Node.js&#xFF0C;&#x4F46;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53D1;&#x9001;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x6570;&#x636E;&#x53EF;&#x80FD;&#x65E0;&#x6CD5;&#x88AB;&#x7ACB;&#x5373;&#x4F7F;&#x7528;&#x3002;</p>
<p><a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a> &#x65B9;&#x6CD5;&#x4F1A;&#x5F02;&#x6B65;&#x5730;&#x884D;&#x751F;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E14;&#x4E0D;&#x4F1A;&#x963B;&#x585E; Node.js &#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x3002;
<a href="#child_process_child_process_spawnsync_command_args_options"><code>child_process.spawnSync()</code></a> &#x65B9;&#x6CD5;&#x5219;&#x4EE5;&#x540C;&#x6B65;&#x7684;&#x65B9;&#x5F0F;&#x63D0;&#x4F9B;&#x540C;&#x6837;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x4F1A;&#x963B;&#x585E;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF0C;&#x76F4;&#x5230;&#x884D;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x6216;&#x7EC8;&#x6B62;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8D77;&#x89C1;&#xFF0C;<code>child_process</code> &#x6A21;&#x5757;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x540C;&#x6B65;&#x548C;&#x5F02;&#x6B65;&#x7684;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x7528;&#x4E8E;  <code>child_process.spawn()</code> &#x548C; <code>child_process.spawnSync()</code>&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x6BCF;&#x4E2A;&#x66FF;&#x4EE3;&#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x5728; <code>child_process.spawn()</code> &#x6216; <code>child_process.spawnSync()</code> &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p>
<ul>
<li><a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a>: &#x884D;&#x751F;&#x4E00;&#x4E2A; shell &#x5E76;&#x5728; shell &#x4E0A;&#x8FD0;&#x884C;&#x547D;&#x4EE4;&#xFF0C;&#x5F53;&#x5B8C;&#x6210;&#x65F6;&#x4F1A;&#x4F20;&#x5165; <code>stdout</code> &#x548C; <code>stderr</code> &#x5230;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</li>
<li><a href="#child_process_child_process_execfile_file_args_options_callback"><code>child_process.execFile()</code></a>: &#x7C7B;&#x4F3C; <code>child_process.exec()</code>&#xFF0C;&#x4F46;&#x76F4;&#x63A5;&#x884D;&#x751F;&#x547D;&#x4EE4;&#xFF0C;&#x4E14;&#x65E0;&#x9700;&#x5148;&#x884D;&#x751F;&#x4E00;&#x4E2A; shell&#x3002;</li>
<li><a href="#child_process_child_process_fork_modulepath_args_options"><code>child_process.fork()</code></a>: &#x884D;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x7684; Node.js &#x8FDB;&#x7A0B;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A; IPC &#x901A;&#x8BAF;&#x901A;&#x9053;&#x6765;&#x8C03;&#x7528;&#x4E00;&#x4E2A;&#x6307;&#x5B9A;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x8BE5;&#x901A;&#x9053;&#x5141;&#x8BB8;&#x7236;&#x8FDB;&#x7A0B;&#x4E0E;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x76F8;&#x4E92;&#x53D1;&#x9001;&#x4FE1;&#x606F;&#x3002;</li>
<li><a href="#child_process_child_process_execsync_command_options"><code>child_process.execSync()</code></a>: <code>child_process.exec()</code> &#x7684;&#x540C;&#x6B65;&#x65B9;&#x6CD5;&#xFF0C;&#x4F1A;&#x963B;&#x585E; Node.js &#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x3002;</li>
<li><a href="#child_process_child_process_execfilesync_file_args_options"><code>child_process.execFileSync()</code></a>: <code>child_process.execFile()</code> &#x7684;&#x540C;&#x6B65;&#x65B9;&#x6CD5;&#xFF0C;&#x4F1A;&#x963B;&#x585E; Node.js &#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x3002;</li>
</ul>
<p>&#x5BF9;&#x4E8E;&#x67D0;&#x4E9B;&#x7528;&#x4F8B;&#xFF0C;&#x5982;&#x81EA;&#x52A8;&#x5316;&#x7684; shell &#x811A;&#x672C;&#xFF0C;<a href="#child_process_synchronous_process_creation">&#x540C;&#x6B65;&#x7684;&#x65B9;&#x6CD5;</a> &#x53EF;&#x80FD;&#x66F4;&#x65B9;&#x4FBF;&#x3002;
&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x540C;&#x6B65;&#x7684;&#x65B9;&#x6CD5;&#x4F1A;&#x660E;&#x663E;&#x5F71;&#x54CD;&#x6027;&#x80FD;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4F1A;&#x62D6;&#x5EF6;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x76F4;&#x5230;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#x5B8C;&#x6210;&#x3002;</p>
<h2>&#x521B;&#x5EFA;&#x5F02;&#x6B65;&#x8FDB;&#x7A0B;<span><a class="mark" href="#child_process_asynchronous_process_creation" id="child_process_asynchronous_process_creation">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_asynchronous_process_creation">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/asynchronous_process_creation.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/asynchronous_process_creation.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<p><a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a>&#x3001;<a href="#child_process_child_process_fork_modulepath_args_options"><code>child_process.fork()</code></a>&#x3001;<a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a> &#x548C; <a href="#child_process_child_process_execfile_file_args_options_callback"><code>child_process.execFile()</code></a> &#x65B9;&#x6CD5;&#x90FD;&#x9075;&#x5FAA;&#x4E0E;&#x5176;&#x4ED6; Node.js API &#x4E00;&#x6837;&#x7684;&#x60EF;&#x7528;&#x7684;&#x5F02;&#x6B65;&#x7F16;&#x7A0B;&#x6A21;&#x5F0F;&#x3002;</p>
<p>&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x90FD;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; <a href="#child_process_child_process"><code>ChildProcess</code></a> &#x5B9E;&#x4F8B;&#x3002;
&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x4E86; Node.js <a href="events.html#events_class_eventemitter"><code>EventEmitter</code></a> &#x7684; API&#xFF0C;&#x5141;&#x8BB8;&#x7236;&#x8FDB;&#x7A0B;&#x6CE8;&#x518C;&#x76D1;&#x542C;&#x5668;&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x751F;&#x547D;&#x5468;&#x671F;&#x671F;&#x95F4;&#xFF0C;&#x5F53;&#x7279;&#x5B9A;&#x7684;&#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x65F6;&#x4F1A;&#x8C03;&#x7528;&#x8FD9;&#x4E9B;&#x51FD;&#x6570;&#x3002;</p>
<p><a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a> &#x548C; <a href="#child_process_child_process_execfile_file_args_options_callback"><code>child_process.execFile()</code></a> &#x8FD4;&#x56DE;&#x53EF;&#x4EE5;&#x989D;&#x5916;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x53EF;&#x9009;&#x7684; <code>callback</code> &#x51FD;&#x6570;&#xFF0C;&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x7ED3;&#x675F;&#x65F6;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#x3002;</p>
<h3>&#x5728; Windows &#x4E0A;&#x884D;&#x751F; <code>.bat</code> &#x548C; <code>.cmd</code> &#x6587;&#x4EF6;<span><a class="mark" href="#child_process_spawning_bat_and_cmd_files_on_windows" id="child_process_spawning_bat_and_cmd_files_on_windows">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_spawning_bat_and_cmd_files_on_windows">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/spawning_bat_and_cmd_files_on_windows.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/spawning_bat_and_cmd_files_on_windows.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<p><a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a> &#x548C; <a href="#child_process_child_process_execfile_file_args_options_callback"><code>child_process.execFile()</code></a> &#x4E4B;&#x95F4;&#x7684;&#x91CD;&#x5927;&#x533A;&#x522B;&#x4F1A;&#x6839;&#x636E;&#x5E73;&#x53F0;&#x7684;&#x4E0D;&#x540C;&#x800C;&#x4E0D;&#x540C;&#x3002;
&#x5728;&#x7C7B; Unix &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x4E0A;&#xFF08;Unix&#x3001; Linux&#x3001; macOS&#xFF09;&#xFF0C;<a href="#child_process_child_process_execfile_file_args_options_callback"><code>child_process.execFile()</code></a> &#x6548;&#x7387;&#x66F4;&#x9AD8;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4E0D;&#x9700;&#x8981;&#x884D;&#x751F;&#x4E00;&#x4E2A; shell&#x3002;
&#x4F46;&#x662F;&#x5728; Windows &#x4E0A;&#xFF0C;<code>.bat</code> &#x548C; <code>.cmd</code> &#x6587;&#x4EF6;&#x5728;&#x6CA1;&#x6709;&#x7EC8;&#x7AEF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x4E0D;&#x53EF;&#x6267;&#x884C;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x80FD;&#x4F7F;&#x7528; <a href="#child_process_child_process_execfile_file_args_options_callback"><code>child_process.execFile()</code></a> &#x542F;&#x52A8;&#x3002;
&#x5F53;&#x5728; Windows &#x4E0B;&#x8FD0;&#x884C;&#x65F6;&#xFF0C;&#x8981;&#x8C03;&#x7528; <code>.bat</code> &#x548C; <code>.cmd</code> &#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x8BBE;&#x7F6E;&#x4E86; <code>shell</code> &#x9009;&#x9879;&#x7684; <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a>&#x3001;&#x6216;&#x4F7F;&#x7528; <a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a>&#x3001;&#x6216;&#x884D;&#x751F; <code>cmd.exe</code> &#x5E76;&#x5C06; <code>.bat</code> &#x6216; <code>.cmd</code> &#x6587;&#x4EF6;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#xFF08;&#x4E5F;&#x5C31;&#x662F; <code>shell</code> &#x9009;&#x9879;&#x548C; <a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a> &#x6240;&#x505A;&#x7684;&#x5DE5;&#x4F5C;&#xFF09;&#x3002;
&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x540D;&#x5305;&#x542B;&#x4E86;&#x7A7A;&#x683C;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x7528;&#x52A0;&#x4E0A;&#x5F15;&#x53F7;&#x3002;</p>
<pre><code class="lang-js">// &#x4EC5;&#x9650; Windows &#x7CFB;&#x7EDF;
const { spawn } = require(&apos;child_process&apos;);
const bat = spawn(&apos;cmd.exe&apos;, [&apos;/c&apos;, &apos;my.bat&apos;]);

bat.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(data.toString());
});

bat.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.log(data.toString());
});

bat.on(&apos;exit&apos;, (code) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x7801;&#xFF1A;${code}`);
});
</code></pre>
<pre><code class="lang-js">// &#x6216;
const { exec } = require(&apos;child_process&apos;);
exec(&apos;my.bat&apos;, (err, stdout, stderr) =&gt; {
  if (err) {
    console.error(err);
    return;
  }
  console.log(stdout);
});


</code></pre>
<h3>child_process.exec(command[, options][, callback])<span><a class="mark" href="#child_process_child_process_exec_command_options_callback" id="child_process_child_process_exec_command_options_callback">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_child_process_exec_command_options_callback">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/child_process_exec_command_options_callback.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_exec_command_options_callback.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p>
</td></tr>
<tr><td>v0.1.90</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span></p>
</td></tr>
</table>
</details>
</div><ul>
<li><code>command</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x7528;&#x7A7A;&#x683C;&#x5206;&#x9694;&#x53C2;&#x6570;&#x3002;</li>
<li><code>options</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a><ul>
<li><code>cwd</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>env</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x952E;&#x503C;&#x5BF9;&#x3002;</li>
<li><code>encoding</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;utf8&apos;</code>&#x3002;</li>
<li><code>shell</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x7684; shell&#x3002;
&#x5728; UNIX &#x4E0A;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;/bin/sh&apos;</code>&#xFF0C;&#x5728; Windows &#x4E0A;&#x9ED8;&#x8BA4;&#x4E3A; <code>process.env.ComSpec</code>&#x3002;
&#x8BE6;&#x89C1; <a href="#child_process_shell_requirements">Shell Requirements</a> &#x4E0E; <a href="#child_process_default_windows_shell">Default Windows Shell</a>&#x3002;</li>
<li><code>timeout</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x9ED8;&#x8BA4;&#x4E3A; <code>0</code>&#x3002;</li>
<li><a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code></a> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>200*1024</code>&#x3002;
&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
&#x67E5;&#x770B;&#x8B66;&#x544A;&#xFF1A; <a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code> and Unicode</a>&#x3002;</li>
<li><code>killSignal</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;integer&gt;</a> &#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><code>uid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setuid.2.html">setuid(2)</a>&#xFF09;</li>
<li><code>gid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7EC4;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setgid.2.html">setgid(2)</a>&#xFF09;</li>
<li><code>windowsHide</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> Hide the subprocess console window that would
normally be created on Windows systems. <strong>Default:</strong> <code>false</code>.</li>
</ul>
</li>
<li><code>callback</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> &#x5F53;&#x8FDB;&#x7A0B;&#x7EC8;&#x6B62;&#x65F6;&#x8C03;&#x7528;&#xFF0C;&#x5E76;&#x5E26;&#x4E0A;&#x8F93;&#x51FA;&#x3002;<ul>
<li><code>error</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a></li>
<li><code>stdout</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
<li><code>stderr</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: 
            <a href="child_process.html#child_process_class_childprocess" class="type">&lt;ChildProcess&gt;</a></li>
</ul>
<p>&#x884D;&#x751F;&#x4E00;&#x4E2A; shell&#xFF0C;&#x7136;&#x540E;&#x5728; shell &#x4E2D;&#x6267;&#x884C; <code>command</code>&#xFF0C;&#x4E14;&#x7F13;&#x51B2;&#x4EFB;&#x4F55;&#x4EA7;&#x751F;&#x7684;&#x8F93;&#x51FA;&#x3002;&#x4F20;&#x5165; exec  &#x51FD;&#x6570;&#x7684; <code>command</code> &#x5B57;&#x7B26;&#x4E32;&#x4F1A;&#x88AB; shell &#x76F4;&#x63A5;&#x5904;&#x7406;&#xFF0C;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#xFF08;&#x56E0; <a href="https://en.wikipedia.org/wiki/List_of_command-line_interpreters">shell</a> &#x800C;&#x5F02;&#xFF09;&#x9700;&#x8981;&#x76F8;&#x5E94;&#x5904;&#x7406;&#xFF1A;</p>
<pre><code class="lang-js">exec(&apos;&quot;/path/to/test file/test.sh&quot; arg1 arg2&apos;);
// &#x4F7F;&#x7528;&#x53CC;&#x5F15;&#x53F7;&#x8FD9;&#x6837;&#x8DEF;&#x5F84;&#x4E2D;&#x7684;&#x7A7A;&#x683C;&#x5C31;&#x4E0D;&#x4F1A;&#x88AB;&#x89E3;&#x91CA;&#x4E3A;&#x591A;&#x4E2A;&#x53C2;&#x6570;

exec(&apos;echo &quot;The \\$HOME variable is $HOME&quot;&apos;);
// &#x7B2C;&#x4E00;&#x4E2A; $HOME &#x88AB;&#x8F6C;&#x4E49;&#x4E86;&#xFF0C;&#x4F46;&#x7B2C;&#x4E8C;&#x4E2A;&#x6CA1;&#x6709;
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x8981;&#x628A;&#x672A;&#x7ECF;&#x68C0;&#x67E5;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x5165;&#x5230;&#x8BE5;&#x51FD;&#x6570;&#x3002;
&#x4EFB;&#x4F55;&#x5305;&#x62EC; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x88AB;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x4F55;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<pre><code class="lang-js">const { exec } = require(&apos;child_process&apos;);
exec(&apos;cat *.js bad_file | wc -l&apos;, (error, stdout, stderr) =&gt; {
  if (error) {
    console.error(`exec error: ${error}`);
    return;
  }
  console.log(`stdout: ${stdout}`);
  console.log(`stderr: ${stderr}`);
});
</code></pre>
<p>&#x5982;&#x679C;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A; <code>callback</code> &#x51FD;&#x6570;&#xFF0C;&#x5219;&#x5B83;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#x4F1A;&#x5E26;&#x4E0A;&#x53C2;&#x6570; <code>(error, stdout, stderr)</code>&#x3002;
&#x5F53;&#x6210;&#x529F;&#x65F6;&#xFF0C;<code>error</code> &#x4F1A;&#x662F; <code>null</code>&#x3002;
&#x5F53;&#x5931;&#x8D25;&#x65F6;&#xFF0C;<code>error</code> &#x4F1A;&#x662F;&#x4E00;&#x4E2A; <a href="errors.html#errors_class_error"><code>Error</code></a> &#x5B9E;&#x4F8B;&#x3002;
<code>error.code</code> &#x5C5E;&#x6027;&#x4F1A;&#x662F;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF0C;<code>error.signal</code> &#x4F1A;&#x88AB;&#x8BBE;&#x4E3A;&#x7EC8;&#x6B62;&#x8FDB;&#x7A0B;&#x7684;&#x4FE1;&#x53F7;&#x3002;
&#x9664; <code>0</code> &#x4EE5;&#x5916;&#x7684;&#x4EFB;&#x4F55;&#x9000;&#x51FA;&#x7801;&#x90FD;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x3002;</p>
<p>&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x7684; <code>stdout</code> &#x548C; <code>stderr</code> &#x53C2;&#x6570;&#x4F1A;&#x5305;&#x542B;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdout &#x548C; stderr &#x7684;&#x8F93;&#x51FA;&#x3002;
&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Node.js &#x4F1A;&#x89E3;&#x7801;&#x8F93;&#x51FA;&#x4E3A; UTF-8&#xFF0C;&#x5E76;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x3002;
<code>encoding</code> &#x9009;&#x9879;&#x53EF;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x7528;&#x4E8E;&#x89E3;&#x7801; stdout &#x548C; stderr &#x8F93;&#x51FA;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x3002;
&#x5982;&#x679C; <code>encoding</code> &#x662F; <code>&apos;buffer&apos;</code>&#x3001;&#x6216;&#x4E00;&#x4E2A;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#xFF0C;&#x5219;&#x4F20;&#x5165; <code>Buffer</code> &#x5BF9;&#x8C61;&#x5230;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p>
<p><code>options</code> &#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x5165;&#xFF0C;&#x7528;&#x4E8E;&#x81EA;&#x5B9A;&#x4E49;&#x5982;&#x4F55;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#x3002;
&#x9ED8;&#x8BA4;&#x7684;&#x9009;&#x9879;&#x662F;&#xFF1A;</p>
<pre><code class="lang-js">const defaults = {
  encoding: &apos;utf8&apos;,
  timeout: 0,
  maxBuffer: 200 * 1024,
  killSignal: &apos;SIGTERM&apos;,
  cwd: null,
  env: null
};
</code></pre>
<p>&#x5982;&#x679C; <code>timeout</code> &#x5927;&#x4E8E; <code>0</code>&#xFF0C;&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x8D85;&#x8FC7; <code>timeout</code> &#x6BEB;&#x79D2;&#x65F6;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x5C31;&#x4F1A;&#x53D1;&#x9001;&#x7531; <code>killSignal</code> &#x5C5E;&#x6027;&#x6807;&#x8BC6;&#x7684;&#x4FE1;&#x53F7;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;SIGTERM&apos;</code>&#xFF09;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x50CF; POSIX &#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x4E2D;&#x7684; <a href="http://man7.org/linux/man-pages/man3/exec.3.html">exec(3)</a>&#xFF0C;<code>child_process.exec()</code> &#x4E0D;&#x4F1A;&#x66FF;&#x6362;&#x73B0;&#x6709;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E14;&#x4F7F;&#x7528;&#x4E00;&#x4E2A; shell &#x6765;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x7684; <a href="util.html#util_util_promisify_original"><code>util.promisify()</code></a> &#x7248;&#x672C;&#xFF0C;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5305;&#x542B; <code>stdout</code> &#x548C; <code>stderr</code> &#x7684; Promise &#x5BF9;&#x8C61;&#x3002;&#x5728;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5C06;&#x8FD4;&#x56DE; rejected &#x72B6;&#x6001;&#x7684; promise&#xFF0C;&#x62E5;&#x6709;&#x4E0E;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E00;&#x6837;&#x7684; <code>error</code> &#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x9644;&#x52A0;&#x4E86; <code>stdout</code> &#x548C; <code>stderr</code> &#x5C5E;&#x6027;&#x3002;</p>
<p>&#x4F8B;&#x5B50;:</p>
<pre><code class="lang-js">const util = require(&apos;util&apos;);
const exec = util.promisify(require(&apos;child_process&apos;).exec);

async function lsExample() {
  const { stdout, stderr } = await exec(&apos;ls&apos;);
  console.log(&apos;stdout:&apos;, stdout);
  console.log(&apos;stderr:&apos;, stderr);
}
lsExample();
</code></pre>
<h3>child_process.execFile(file[, args][, options][, callback])<span><a class="mark" href="#child_process_child_process_execfile_file_args_options_callback" id="child_process_child_process_execfile_file_args_options_callback">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_child_process_execfile_file_args_options_callback">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/child_process_execfile_file_args_options_callback.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_execfile_file_args_options_callback.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p>
</td></tr>
<tr><td>v0.1.91</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.1.91</span></p>
</td></tr>
</table>
</details>
</div><ul>
<li><code>file</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x6216;&#x8DEF;&#x5F84;&#x3002;</li>
<li><code>args</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string[]&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x5217;&#x8868;&#x3002;</li>
<li><code>options</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a><ul>
<li><code>cwd</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>env</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x952E;&#x503C;&#x5BF9;&#x3002;</li>
<li><code>encoding</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;utf8&apos;</code>&#x3002;</li>
<li><code>timeout</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x9ED8;&#x8BA4;&#x4E3A; <code>0</code>&#x3002;</li>
<li><a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code></a> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>200*1024</code>&#x3002;
&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
See caveat at <a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code> and Unicode</a>.</li>
<li><code>killSignal</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;integer&gt;</a> &#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><code>uid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setuid.2.html">setuid(2)</a>&#xFF09;</li>
<li><code>gid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7EC4;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setgid.2.html">setgid(2)</a>&#xFF09;</li>
<li><code>windowsHide</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> Hide the subprocess console window that would
normally be created on Windows systems. <strong>Default:</strong> <code>false</code>.</li>
<li><code>windowsVerbatimArguments</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> No quoting or escaping of arguments is
done on Windows. Ignored on Unix. <strong>Default:</strong> <code>false</code>.</li>
</ul>
</li>
<li><code>callback</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a> &#x5F53;&#x8FDB;&#x7A0B;&#x7EC8;&#x6B62;&#x65F6;&#x8C03;&#x7528;&#xFF0C;&#x5E76;&#x5E26;&#x4E0A;&#x8F93;&#x51FA;&#x3002;<ul>
<li><code>error</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a></li>
<li><code>stdout</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
<li><code>stderr</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a></li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: 
            <a href="child_process.html#child_process_class_childprocess" class="type">&lt;ChildProcess&gt;</a></li>
</ul>
<p><code>child_process.execFile()</code> &#x51FD;&#x6570;&#x7C7B;&#x4F3C; <a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a>&#xFF0C;&#x9664;&#x4E86;&#x4E0D;&#x884D;&#x751F;&#x4E00;&#x4E2A; shell&#x3002;
&#x800C;&#x662F;&#xFF0C;&#x6307;&#x5B9A;&#x7684;&#x53EF;&#x6267;&#x884C;&#x7684; <code>file</code> &#x88AB;&#x76F4;&#x63A5;&#x884D;&#x751F;&#x4E3A;&#x4E00;&#x4E2A;&#x65B0;&#x8FDB;&#x7A0B;&#xFF0C;&#x8FD9;&#x4F7F;&#x5F97;&#x5B83;&#x6BD4; <a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a> &#x66F4;&#x9AD8;&#x6548;&#x3002;</p>
<p>&#x5B83;&#x652F;&#x6301;&#x548C; <a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a> &#x4E00;&#x6837;&#x7684;&#x9009;&#x9879;&#x3002;
&#x7531;&#x4E8E;&#x6CA1;&#x6709;&#x884D;&#x751F; shell&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x652F;&#x6301;&#x50CF; I/O &#x91CD;&#x5B9A;&#x5411;&#x548C;&#x6587;&#x4EF6;&#x67E5;&#x627E;&#x8FD9;&#x6837;&#x7684;&#x884C;&#x4E3A;&#x3002;</p>
<pre><code class="lang-js">const { execFile } = require(&apos;child_process&apos;);
const child = execFile(&apos;node&apos;, [&apos;--version&apos;], (error, stdout, stderr) =&gt; {
  if (error) {
    throw error;
  }
  console.log(stdout);
});
</code></pre>
<p>&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x7684; <code>stdout</code> &#x548C; <code>stderr</code> &#x53C2;&#x6570;&#x4F1A;&#x5305;&#x542B;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdout &#x548C; stderr &#x7684;&#x8F93;&#x51FA;&#x3002;
&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;Node.js &#x4F1A;&#x89E3;&#x7801;&#x8F93;&#x51FA;&#x4E3A; UTF-8&#xFF0C;&#x5E76;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x4F20;&#x7ED9;&#x56DE;&#x8C03;&#x3002;
<code>encoding</code> &#x9009;&#x9879;&#x53EF;&#x7528;&#x4E8E;&#x6307;&#x5B9A;&#x7528;&#x4E8E;&#x89E3;&#x7801; stdout &#x548C; stderr &#x8F93;&#x51FA;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x3002;
&#x5982;&#x679C; <code>encoding</code> &#x662F; <code>&apos;buffer&apos;</code>&#x3001;&#x6216;&#x4E00;&#x4E2A;&#x65E0;&#x6CD5;&#x8BC6;&#x522B;&#x7684;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#xFF0C;&#x5219;&#x4F20;&#x5165; <code>Buffer</code> &#x5BF9;&#x8C61;&#x5230;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x7684; <a href="util.html#util_util_promisify_original"><code>util.promisify()</code></a> &#x7248;&#x672C;&#xFF0C; &#x5B83;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x62E5;&#x6709; <code>stdout</code> &#x548C;
<code>stderr</code> &#x5C5E;&#x6027;&#x7684; Promise &#x5BF9;&#x8C61;. &#x5728;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x7684;&#x60C5;&#x51B5;&#x4E0B;, &#x8FD4;&#x56DE;&#x4E00;&#x4E2A; rejected &#x72B6;&#x6001;&#x7684; promise, &#x62E5;&#x6709;&#x4E0E;&#x56DE;&#x8C03;
&#x51FD;&#x6570;&#x4E00;&#x6837;&#x7684; <code>error</code> &#x5BF9;&#x8C61;, &#x4F46;&#x662F;&#x9644;&#x52A0;&#x4E86; <code>stdout</code> &#x548C; <code>stderr</code> &#x8FD9;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;.</p>
<pre><code class="lang-js">const util = require(&apos;util&apos;);
const execFile = util.promisify(require(&apos;child_process&apos;).execFile);
async function getVersion() {
  const { stdout } = await execFile(&apos;node&apos;, [&apos;--version&apos;]);
  console.log(stdout);
}
getVersion();
</code></pre>
<h3>child_process.fork(modulePath[, args][, options])<span><a class="mark" href="#child_process_child_process_fork_modulepath_args_options" id="child_process_child_process_fork_modulepath_args_options">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_child_process_fork_modulepath_args_options">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/child_process_fork_modulepath_args_options.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_fork_modulepath_args_options.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.0.0</td>
<td><p>The <code>stdio</code> option can now be a string.</p>
</td></tr>
<tr><td>v6.4.0</td>
<td><p>The <code>stdio</code> option is supported now.</p>
</td></tr>
<tr><td>v0.5.0</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.5.0</span></p>
</td></tr>
</table>
</details>
</div><ul>
<li><code>modulePath</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8981;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x8FD0;&#x884C;&#x7684;&#x6A21;&#x5757;&#x3002;</li>
<li><code>args</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x5217;&#x8868;&#x3002;</li>
<li><code>options</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a><ul>
<li><code>cwd</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>env</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x952E;&#x503C;&#x5BF9;&#x3002;</li>
<li><code>execPath</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x7528;&#x6765;&#x521B;&#x5EFA;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x6267;&#x884C;&#x8DEF;&#x5F84;&#x3002;</li>
<li><code>execArgv</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> &#x8981;&#x4F20;&#x7ED9;&#x6267;&#x884C;&#x8DEF;&#x5F84;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x5217;&#x8868;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>process.execArgv</code>&#x3002;</li>
<li><code>silent</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> &#x5982;&#x679C;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684; stdin&#x3001; stdout &#x548C; stderr &#x4F1A;&#x88AB;&#x5BFC;&#x6D41;&#x5230;&#x7236;&#x8FDB;&#x7A0B;&#x4E2D;&#xFF0C;&#x5426;&#x5219;&#x5B83;&#x4EEC;&#x4F1A;&#x7EE7;&#x627F;&#x81EA;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;&#x8BE6;&#x89C1; <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a> &#x7684; <a href="#child_process_options_stdio"><code>stdio</code></a> &#x4E2D;&#x7684; <code>&apos;pipe&apos;</code> &#x548C; <code>&apos;inherit&apos;</code> &#x9009;&#x9879;&#x3002;
&#x9ED8;&#x8BA4;: <code>false</code>&#x3002;</li>
<li><code>stdio</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8BE6;&#x89C1; <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a> &#x7684; <a href="#child_process_options_stdio"><code>stdio</code></a>&#x3002;
&#x5F53;&#x63D0;&#x4F9B;&#x4E86;&#x8BE5;&#x9009;&#x9879;&#xFF0C;&#x5219;&#x5B83;&#x4F1A;&#x8986;&#x76D6; <code>silent</code>&#x3002;
&#x5982;&#x679C;&#x4F7F;&#x7528;&#x4E86;&#x6570;&#x7EC4;&#x53D8;&#x91CF;&#xFF0C;&#x5219;&#x8BE5;&#x6570;&#x7EC4;&#x5FC5;&#x987B;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x503C;&#x4E3A; <code>&apos;ipc&apos;</code> &#x7684;&#x5B50;&#x9879;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002;
&#x4F8B;&#x5982; <code>[0, 1, 2, &apos;ipc&apos;]</code>&#x3002;</li>
<li><code>windowsVerbatimArguments</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> No quoting or escaping of arguments is
done on Windows. Ignored on Unix. <strong>Default:</strong> <code>false</code>.</li>
<li><code>uid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setuid.2.html">setuid(2)</a>&#xFF09;</li>
<li><code>gid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7EC4;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setgid.2.html">setgid(2)</a>&#xFF09;</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: 
            <a href="child_process.html#child_process_class_childprocess" class="type">&lt;ChildProcess&gt;</a></li>
</ul>
<p><code>child_process.fork()</code> &#x65B9;&#x6CD5;&#x662F; <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a> &#x7684;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#xFF0C;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x884D;&#x751F;&#x65B0;&#x7684; Node.js &#x8FDB;&#x7A0B;&#x3002;
&#x8DDF; <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a> &#x4E00;&#x6837;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; <a href="#child_process_child_process"><code>ChildProcess</code></a> &#x5BF9;&#x8C61;&#x3002;
&#x8FD4;&#x56DE;&#x7684; <a href="#child_process_child_process"><code>ChildProcess</code></a> &#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x7684;&#x5185;&#x7F6E;&#x7684;&#x901A;&#x4FE1;&#x901A;&#x9053;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x6D88;&#x606F;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x6765;&#x56DE;&#x4F20;&#x9012;&#x3002;
&#x8BE6;&#x89C1; <a href="#child_process_subprocess_send_message_sendhandle_options_callback"><code>subprocess.send()</code></a>&#x3002;</p>
<p>&#x884D;&#x751F;&#x7684; Node.js &#x5B50;&#x8FDB;&#x7A0B;&#x4E0E;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x7684; IPC &#x901A;&#x4FE1;&#x4FE1;&#x9053;&#x7684;&#x5F02;&#x5E38;&#x662F;&#x72EC;&#x7ACB;&#x4E8E;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x3002;
&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x4F7F;&#x7528;&#x81EA;&#x5DF1;&#x7684; V8 &#x5B9E;&#x4F8B;&#x3002;
&#x7531;&#x4E8E;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x8D44;&#x6E90;&#x5206;&#x914D;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x63A8;&#x8350;&#x884D;&#x751F;&#x5927;&#x91CF;&#x7684; Node.js &#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;<code>child_process.fork()</code> &#x4F1A;&#x4F7F;&#x7528;&#x7236;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684; <a href="process.html#process_process_execpath"><code>process.execPath</code></a> &#x884D;&#x751F;&#x65B0;&#x7684; Node.js &#x5B9E;&#x4F8B;&#x3002;
<code>options</code> &#x5BF9;&#x8C61;&#x4E2D;&#x7684; <code>execPath</code> &#x5C5E;&#x6027;&#x53EF;&#x4EE5;&#x66FF;&#x6362;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x6267;&#x884C;&#x8DEF;&#x5F84;&#x3002;</p>
<p>&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7684; <code>execPath</code> &#x542F;&#x52A8;&#x7684; Node.js &#x8FDB;&#x7A0B;&#xFF0C;&#x4F1A;&#x4F7F;&#x7528;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF; <code>NODE_CHANNEL_FD</code> &#x4E2D;&#x6307;&#x5B9A;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF08;fd&#xFF09;&#x4E0E;&#x7236;&#x8FDB;&#x7A0B;&#x901A;&#x4FE1;&#x3002;
fd &#x4E0A;&#x7684;&#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x671F;&#x671B;&#x88AB;&#x5206;&#x5272;&#x6210;&#x4E00;&#x884C;&#x4E00;&#x884C;&#x7684; JSON &#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x4E0D;&#x50CF; POSIX &#x7CFB;&#x7EDF;&#x56DE;&#x8C03;&#x4E2D;&#x7684; <a href="http://man7.org/linux/man-pages/man2/fork.2.html">fork(2)</a>&#xFF0C;<code>child_process.fork()</code> &#x4E0D;&#x4F1A;&#x514B;&#x9686;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x3002;</p>
<p><em>Note</em>: The <code>shell</code> option available in <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a> is not supported by <code>child_process.fork()</code> and will be ignored if set.</p>
<h3>child_process.spawn(command[, args][, options])<span><a class="mark" href="#child_process_child_process_spawn_command_args_options" id="child_process_child_process_spawn_command_args_options">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_child_process_spawn_command_args_options">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/child_process_spawn_command_args_options.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_spawn_command_args_options.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p>
</td></tr>
<tr><td>v6.4.0</td>
<td><p>The <code>argv0</code> option is supported now.</p>
</td></tr>
<tr><td>v5.7.0</td>
<td><p>The <code>shell</code> option is supported now.</p>
</td></tr>
<tr><td>v0.1.90</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span></p>
</td></tr>
</table>
</details>
</div><ul>
<li><code>command</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002;</li>
<li><code>args</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x5217;&#x8868;&#x3002;</li>
<li><code>options</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a><ul>
<li><code>cwd</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>env</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x952E;&#x503C;&#x5BF9;&#x3002;</li>
<li><code>argv0</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x663E;&#x5F0F;&#x5730;&#x8BBE;&#x7F6E;&#x8981;&#x53D1;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>argv[0]</code> &#x7684;&#x503C;&#x3002;
&#x5982;&#x679C;&#x672A;&#x6307;&#x5B9A;&#xFF0C;&#x5219;&#x8BBE;&#x4E3A; <code>command</code>&#x3002;</li>
<li><code>stdio</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x914D;&#x7F6E;&#x3002;
&#xFF08;&#x8BE6;&#x89C1; <a href="#child_process_options_stdio"><code>options.stdio</code></a>&#xFF09;</li>
<li><code>detached</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> &#x51C6;&#x5907;&#x5C06;&#x5B50;&#x8FDB;&#x7A0B;&#x72EC;&#x7ACB;&#x4E8E;&#x7236;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x3002;
&#x5177;&#x4F53;&#x884C;&#x4E3A;&#x53D6;&#x51B3;&#x4E8E;&#x5E73;&#x53F0;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="#child_process_options_detached"><code>options.detached</code></a>&#xFF09;</li>
<li><code>uid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setuid.2.html">setuid(2)</a>&#xFF09;</li>
<li><code>gid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7EC4;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setgid.2.html">setgid(2)</a>&#xFF09;</li>
<li><code>shell</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5982;&#x679C;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5728;&#x4E00;&#x4E2A; shell &#x4E2D;&#x8FD0;&#x884C; <code>command</code>&#x3002;
&#x5728; UNIX &#x4E0A;&#x4F7F;&#x7528; <code>&apos;/bin/sh&apos;</code>&#xFF0C;&#x5728; Windows &#x4E0A;&#x4F7F;&#x7528; <code>process.env.ComSpec</code>&#x3002;
&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684; shell &#x53EF;&#x4EE5;&#x88AB;&#x6307;&#x5B9A;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
See <a href="#child_process_shell_requirements">Shell Requirements</a> and <a href="#child_process_default_windows_shell">Default Windows Shell</a>.
&#x9ED8;&#x8BA4;&#x4E3A; <code>false</code>&#xFF08;&#x6CA1;&#x6709; shell&#xFF09;&#x3002;</li>
<li><code>windowsVerbatimArguments</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> No quoting or escaping of arguments is
done on Windows. Ignored on Unix. This is set to <code>true</code> automatically
when <code>shell</code> is specified. <strong>Default:</strong> <code>false</code>.</li>
<li><code>windowsHide</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> Hide the subprocess console window that would
normally be created on Windows systems. <strong>Default:</strong> <code>false</code>.</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: 
            <a href="child_process.html#child_process_class_childprocess" class="type">&lt;ChildProcess&gt;</a></li>
</ul>
<p><code>child_process.spawn()</code> &#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x7ED9;&#x5B9A;&#x7684; <code>command</code> &#x548C; <code>args</code> &#x4E2D;&#x7684;&#x547D;&#x4EE4;&#x884C;&#x53C2;&#x6570;&#x6765;&#x884D;&#x751F;&#x4E00;&#x4E2A;&#x65B0;&#x8FDB;&#x7A0B;&#x3002;
&#x5982;&#x679C;&#x7701;&#x7565; <code>args</code>&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x4E3A;&#x4E00;&#x4E2A;&#x7A7A;&#x6570;&#x7EC4;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x8981;&#x628A;&#x672A;&#x7ECF;&#x68C0;&#x67E5;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x5165;&#x5230;&#x8BE5;&#x51FD;&#x6570;&#x3002;
&#x4EFB;&#x4F55;&#x5305;&#x62EC; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x88AB;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x4F55;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<p>&#x7B2C;&#x4E09;&#x4E2A;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x6307;&#x5B9A;&#x989D;&#x5916;&#x7684;&#x9009;&#x9879;&#xFF0C;&#x9ED8;&#x8BA4;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-js">const defaults = {
  cwd: undefined,
  env: process.env
};
</code></pre>
<p>&#x4F7F;&#x7528; <code>cwd</code> &#x6765;&#x6307;&#x5B9A;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;
&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7ED9;&#x51FA;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x7EE7;&#x627F;&#x5F53;&#x524D;&#x7684;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</p>
<p>&#x4F7F;&#x7528; <code>env</code> &#x6765;&#x6307;&#x5B9A;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x8FD9;&#x4F1A;&#x5728;&#x65B0;&#x8FDB;&#x7A0B;&#x4E2D;&#x53EF;&#x89C1;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A; <a href="process.html#process_process_env"><code>process.env</code></a>&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF0C;&#x8FD0;&#x884C; <code>ls -lh /usr</code>&#xFF0C;&#x6355;&#x83B7; <code>stdout</code>&#x3001;<code>stderr</code>&#x3001;&#x4EE5;&#x53CA;&#x9000;&#x51FA;&#x7801;&#xFF1A;</p>
<pre><code class="lang-js">const { spawn } = require(&apos;child_process&apos;);
const ls = spawn(&apos;ls&apos;, [&apos;-lh&apos;, &apos;/usr&apos;]);

ls.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(`stdout: ${data}`);
});

ls.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.log(`stderr: ${data}`);
});

ls.on(&apos;close&apos;, (code) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x7801;&#xFF1A;${code}`);
});
</code></pre>
<p>&#x4F8B;&#x5B50;&#xFF0C;&#x4E00;&#x79CD;&#x6267;&#x884C; <code>&apos;ps ax | grep ssh&apos;</code> &#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre><code class="lang-js">const { spawn } = require(&apos;child_process&apos;);
const ps = spawn(&apos;ps&apos;, [&apos;ax&apos;]);
const grep = spawn(&apos;grep&apos;, [&apos;ssh&apos;]);

ps.stdout.on(&apos;data&apos;, (data) =&gt; {
  grep.stdin.write(data);
});

ps.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.log(`ps stderr: ${data}`);
});

ps.on(&apos;close&apos;, (code) =&gt; {
  if (code !== 0) {
    console.log(`ps &#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x7801;&#xFF1A;${code}`);
  }
  grep.stdin.end();
});

grep.stdout.on(&apos;data&apos;, (data) =&gt; {
  console.log(data.toString());
});

grep.stderr.on(&apos;data&apos;, (data) =&gt; {
  console.log(`grep stderr: ${data}`);
});

grep.on(&apos;close&apos;, (code) =&gt; {
  if (code !== 0) {
    console.log(`grep &#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x7801;&#xFF1A;${code}`);
  }
});
</code></pre>
<p>&#x4F8B;&#x5B50;&#xFF0C;&#x68C0;&#x6D4B;&#x5931;&#x8D25;&#x7684; <code>spawn</code>&#xFF1A;</p>
<pre><code class="lang-js">const { spawn } = require(&apos;child_process&apos;);
const subprocess = spawn(&apos;bad_command&apos;);

subprocess.on(&apos;error&apos;, (err) =&gt; {
  console.log(&apos;&#x542F;&#x52A8;&#x5B50;&#x8FDB;&#x7A0B;&#x5931;&#x8D25;&#x3002;&apos;);
});
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x67D0;&#x4E9B;&#x5E73;&#x53F0;&#xFF08;macOS, Linux&#xFF09;&#x4F1A;&#x4F7F;&#x7528; <code>argv[0]</code> &#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x8FDB;&#x7A0B;&#x7684;&#x6807;&#x9898;&#xFF0C;&#x800C;&#x5176;&#x4ED6;&#x5E73;&#x53F0;&#xFF08;Windows, SunOS&#xFF09;&#x5219;&#x4F7F;&#x7528; <code>command</code>&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;Node.js &#x4E00;&#x822C;&#x4F1A;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x7528; <code>process.execPath</code> &#x91CD;&#x5199; <code>argv[0]</code>&#xFF0C;&#x6240;&#x4EE5; Node.js &#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684; <code>process.argv[0]</code> &#x4E0D;&#x4F1A;&#x5339;&#x914D;&#x4ECE;&#x7236;&#x8FDB;&#x7A0B;&#x4F20;&#x7ED9; <code>spawn</code> &#x7684; <code>argv0</code> &#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>process.argv0</code> &#x5C5E;&#x6027;&#x83B7;&#x53D6;&#x5B83;&#x3002;</p>
<h4>options.detached<span><a class="mark" href="#child_process_options_detached" id="child_process_options_detached">#</a></span></h4><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_options_detached">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/options_detached.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/options_detached.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.10</span>
</div><p>&#x5728; Windows &#x4E0A;&#xFF0C;&#x8BBE;&#x7F6E; <code>options.detached</code> &#x4E3A; <code>true</code> &#x53EF;&#x4EE5;&#x4F7F;&#x5B50;&#x8FDB;&#x7A0B;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x540E;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#x3002;
&#x5B50;&#x8FDB;&#x7A0B;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x63A7;&#x5236;&#x53F0;&#x7A97;&#x53E3;&#x3002;
&#x4E00;&#x65E6;&#x542F;&#x7528;&#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5B83;&#x5C06;&#x4E0D;&#x80FD;&#x88AB;&#x7981;&#x7528;&#x3002;</p>
<p>&#x5728;&#x975E; Windows &#x5E73;&#x53F0;&#x4E0A;&#xFF0C;&#x5982;&#x679C;&#x5C06; <code>options.detached</code> &#x8BBE;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x6210;&#x4E3A;&#x65B0;&#x7684;&#x8FDB;&#x7A0B;&#x7EC4;&#x548C;&#x4F1A;&#x8BDD;&#x7684;&#x9886;&#x5BFC;&#x8005;&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x540E;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x8FD0;&#x884C;&#xFF0C;&#x4E0D;&#x7BA1;&#x5B83;&#x4EEC;&#x662F;&#x5426;&#x88AB;&#x5206;&#x79BB;&#x3002;
&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setsid.2.html">setsid(2)</a>&#x3002;</p>
<p>&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x4F1A;&#x7B49;&#x5F85;&#x88AB;&#x5206;&#x79BB;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;
&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x7236;&#x8FDB;&#x7A0B;&#x7B49;&#x5F85;&#x7ED9;&#x5B9A;&#x7684; <code>subprocess</code>&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>subprocess.unref()</code> &#x65B9;&#x6CD5;&#x3002;
&#x8FD9;&#x6837;&#x505A;&#x4F1A;&#x5BFC;&#x81F4;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x4E0D;&#x5305;&#x542B;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F15;&#x7528;&#x8BA1;&#x6570;&#xFF0C;&#x4F7F;&#x5F97;&#x7236;&#x8FDB;&#x7A0B;&#x72EC;&#x7ACB;&#x4E8E;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#xFF0C;&#x9664;&#x975E;&#x5B50;&#x8FDB;&#x7A0B;&#x548C;&#x7236;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x4E86;&#x4E00;&#x4E2A; IPC &#x4FE1;&#x9053;&#x3002;</p>
<p>&#x5F53;&#x4F7F;&#x7528; <code>detached</code> &#x9009;&#x9879;&#x6765;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x957F;&#x671F;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x8BE5;&#x8FDB;&#x7A0B;&#x4E0D;&#x4F1A;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x540E;&#x4FDD;&#x6301;&#x5728;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x9664;&#x975E;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x4E0D;&#x8FDE;&#x63A5;&#x5230;&#x7236;&#x8FDB;&#x7A0B;&#x7684; <code>stdio</code> &#x914D;&#x7F6E;&#x3002;
&#x5982;&#x679C;&#x7236;&#x8FDB;&#x7A0B;&#x7684; <code>stdio</code> &#x662F;&#x7EE7;&#x627F;&#x7684;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x4FDD;&#x6301;&#x8FDE;&#x63A5;&#x5230;&#x63A7;&#x5236;&#x7EC8;&#x7AEF;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF0C;&#x4E00;&#x4E2A;&#x957F;&#x671F;&#x8FD0;&#x884C;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x4E3A;&#x4E86;&#x5FFD;&#x89C6;&#x7236;&#x8FDB;&#x7A0B;&#x7684;&#x7EC8;&#x6B62;&#xFF0C;&#x901A;&#x8FC7;&#x5206;&#x79BB;&#x4E14;&#x5FFD;&#x89C6;&#x5176;&#x7236;&#x8FDB;&#x7A0B;&#x7684; <code>stdio</code> &#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x6765;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre><code class="lang-js">const { spawn } = require(&apos;child_process&apos;);

const subprocess = spawn(process.argv[0], [&apos;child_program.js&apos;], {
  detached: true,
  stdio: &apos;ignore&apos;
});

subprocess.unref();
</code></pre>
<p>&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x8F93;&#x51FA;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x6587;&#x4EF6;&#xFF1A;</p>
<pre><code class="lang-js">const fs = require(&apos;fs&apos;);
const { spawn } = require(&apos;child_process&apos;);
const out = fs.openSync(&apos;./out.log&apos;, &apos;a&apos;);
const err = fs.openSync(&apos;./out.log&apos;, &apos;a&apos;);

const subprocess = spawn(&apos;prg&apos;, [], {
  detached: true,
  stdio: [ &apos;ignore&apos;, out, err ]
});

subprocess.unref();
</code></pre>
<h4>options.stdio<span><a class="mark" href="#child_process_options_stdio" id="child_process_options_stdio">#</a></span></h4><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_options_stdio">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/options_stdio.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/options_stdio.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v3.3.1</td>
<td><p>The value <code>0</code> is now accepted as a file descriptor.</p>
</td></tr>
<tr><td>v0.7.10</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.7.10</span></p>
</td></tr>
</table>
</details>
</div><p><code>options.stdio</code> &#x9009;&#x9879;&#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0E;&#x7236;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x7684;&#x7BA1;&#x9053;&#x3002;
&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdin&#x3001; stdout &#x548C; stderr &#x4F1A;&#x91CD;&#x5B9A;&#x5411;&#x5230; <a href="#child_process_child_process"><code>ChildProcess</code></a> &#x5BF9;&#x8C61;&#x4E0A;&#x76F8;&#x5E94;&#x7684; <a href="#child_process_subprocess_stdin"><code>subprocess.stdin</code></a>&#x3001; <a href="#child_process_subprocess_stdout"><code>subprocess.stdout</code></a> &#x548C; <a href="#child_process_subprocess_stderr"><code>subprocess.stderr</code></a> &#x6D41;&#x3002;
&#x8FD9;&#x7B49;&#x540C;&#x4E8E;&#x5C06; <code>options.stdio</code> &#x8BBE;&#x4E3A; <code>[&apos;pipe&apos;, &apos;pipe&apos;, &apos;pipe&apos;]</code>&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8D77;&#x89C1;&#xFF0C;<code>options.stdio</code> &#x53EF;&#x4EE5;&#x662F;&#x4EE5;&#x4E0B;&#x5B57;&#x7B26;&#x4E32;&#x4E4B;&#x4E00;&#xFF1A;</p>
<ul>
<li><code>&apos;pipe&apos;</code> - &#x7B49;&#x540C;&#x4E8E; <code>[&apos;pipe&apos;, &apos;pipe&apos;, &apos;pipe&apos;]</code> &#xFF08;&#x9ED8;&#x8BA4;&#xFF09;</li>
<li><code>&apos;ignore&apos;</code> - &#x7B49;&#x540C;&#x4E8E; <code>[&apos;ignore&apos;, &apos;ignore&apos;, &apos;ignore&apos;]</code></li>
<li><code>&apos;inherit&apos;</code> - &#x7B49;&#x540C;&#x4E8E; <code>[process.stdin, process.stdout, process.stderr]</code> &#x6216; <code>[0,1,2]</code></li>
</ul>
<p>&#x53E6;&#x5916;&#xFF0C;<code>option.stdio</code> &#x7684;&#x503C;&#x662F;&#x4E00;&#x4E2A;&#x6BCF;&#x4E2A;&#x7D22;&#x5F15;&#x90FD;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B; fd &#x7684;&#x6570;&#x7EC4;&#x3002;
fd &#x7684; 0&#x3001;1 &#x548C; 2 &#x5206;&#x522B;&#x5BF9;&#x5E94; stdin&#x3001;stdout &#x548C; stderr&#x3002;
&#x989D;&#x5916;&#x7684; fd &#x53EF;&#x4EE5;&#x88AB;&#x6307;&#x5B9A;&#x6765;&#x521B;&#x5EFA;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x7684;&#x989D;&#x5916;&#x7BA1;&#x9053;&#x3002;
&#x8BE5;&#x503C;&#x662F;&#x4EE5;&#x4E0B;&#x4E4B;&#x4E00;&#xFF1A;</p>
<ol>
<li><code>&apos;pipe&apos;</code> - &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x548C;&#x7236;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x7684;&#x7BA1;&#x9053;&#x3002;
 &#x5728;&#x7BA1;&#x9053;&#x7684;&#x7236;&#x7AEF;&#x4EE5; <a href="#child_process_options_stdio"><code>subprocess.stdio[fd]</code></a> &#x7684;&#x5F62;&#x5F0F;&#x4F5C;&#x4E3A; <code>child_process</code> &#x5BF9;&#x8C61;&#x7684;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x66B4;&#x9732;&#x7ED9;&#x7236;&#x8FDB;&#x7A0B;&#x3002;
 &#x4E3A; fd &#x521B;&#x5EFA;&#x7684;&#x7BA1;&#x9053; 0 - 2 &#x4E5F;&#x53EF;&#x5206;&#x522B;&#x4F5C;&#x4E3A; <a href="#child_process_subprocess_stdin"><code>subprocess.stdin</code></a>&#x3001;<a href="#child_process_subprocess_stdout"><code>subprocess.stdout</code></a> &#x548C; <a href="#child_process_subprocess_stderr"><code>subprocess.stderr</code></a>&#x3002;</li>
<li><code>&apos;ipc&apos;</code> - &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x4F20;&#x9012;&#x6D88;&#x606F;&#x6216;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x7684; IPC &#x901A;&#x9053;&#x7B26;&#x3002;
 &#x4E00;&#x4E2A; <a href="#child_process_child_process"><code>ChildProcess</code></a> &#x6700;&#x591A;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A; IPC stdio &#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;
 &#x8BBE;&#x7F6E;&#x8BE5;&#x9009;&#x9879;&#x53EF;&#x542F;&#x7528; <a href="#child_process_subprocess_send_message_sendhandle_options_callback"><code>subprocess.send()</code></a> &#x65B9;&#x6CD5;&#x3002;
 &#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x628A; JSON &#x6D88;&#x606F;&#x5199;&#x5165;&#x5230;&#x8BE5;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x5219; [<code>subprocess.on(&apos;message&apos;)</code>] &#x4E8B;&#x4EF6;&#x53E5;&#x67C4;&#x4F1A;&#x88AB;&#x7236;&#x8FDB;&#x7A0B;&#x89E6;&#x53D1;&#x3002;
 &#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x4E00;&#x4E2A; Node.js &#x8FDB;&#x7A0B;&#xFF0C;&#x5219;&#x4E00;&#x4E2A;&#x5DF2;&#x5B58;&#x5728;&#x7684; IPC &#x901A;&#x9053;&#x4F1A;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x542F;&#x7528; <a href="process.html#process_process_send_message_sendhandle_options_callback"><code>process.send()</code></a>&#x3001;<a href="process.html#process_process_disconnect"><code>process.disconnect()</code></a>&#x3001;<a href="process.html#process_event_disconnect"><code>process.on(&apos;disconnect&apos;)</code></a> &#x548C; <a href="process.html#process_event_message"><code>process.on(&apos;message&apos;)</code></a>&#x3002;</li>
<li><code>&apos;ignore&apos;</code> - &#x6307;&#x793A; Node.js &#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x5FFD;&#x7565; fd&#x3002;
 &#x7531;&#x4E8E; Node.js &#x603B;&#x662F;&#x4F1A;&#x4E3A;&#x5B83;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x6253;&#x5F00; fd 0 - 2&#xFF0C;&#x6240;&#x4EE5;&#x8BBE;&#x7F6E; fd &#x4E3A; <code>&apos;ignore&apos;</code> &#x53EF;&#x4EE5;&#x4F7F; Node.js &#x6253;&#x5F00; <code>/dev/null</code> &#x5E76;&#x5C06;&#x5B83;&#x9644;&#x52A0;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; fd &#x4E0A;&#x3002;</li>
<li>
            <a href="stream.html#stream_stream" class="type">&lt;Stream&gt;</a> &#x5BF9;&#x8C61; - &#x5171;&#x4EAB;&#x4E00;&#x4E2A;&#x6307;&#x5411;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; tty&#x3001;&#x6587;&#x4EF6;&#x3001;socket &#x6216;&#x7BA1;&#x9053;&#x7684;&#x53EF;&#x8BFB;&#x6216;&#x53EF;&#x5199;&#x6D41;&#x3002;
 &#x6D41;&#x7684;&#x5E95;&#x5C42;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x662F;&#x91CD;&#x590D;&#x5BF9;&#x5E94;&#x8BE5; <code>stdio</code> &#x6570;&#x7EC4;&#x7684;&#x7D22;&#x5F15;&#x7684; fd&#x3002;
 &#x6CE8;&#x610F;&#xFF0C;&#x8BE5;&#x6D41;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x5E95;&#x5C42;&#x63CF;&#x8FF0;&#x7B26;&#xFF08;&#x6587;&#x4EF6;&#x6D41;&#x76F4;&#x5230; <code>&apos;open&apos;</code> &#x4E8B;&#x4EF6;&#x53D1;&#x751F;&#x624D;&#x9700;&#x8981;&#xFF09;&#x3002;</li>
<li>&#x6B63;&#x6574;&#x6570; - &#x6574;&#x6570;&#x503C;&#x88AB;&#x89E3;&#x6790;&#x4E3A;&#x4E00;&#x4E2A;&#x6B63;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x4E2D;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x3002;
 &#x5B83;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x5171;&#x4EAB;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E; 
            <a href="stream.html#stream_stream" class="type">&lt;Stream&gt;</a> &#x662F;&#x5982;&#x4F55;&#x88AB;&#x5171;&#x4EAB;&#x7684;&#x3002;</li>
<li><code>null</code>, <code>undefined</code> - &#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#x3002;
 &#x5BF9;&#x4E8E; stdio fd 0&#x3001;1 &#x548C; 2&#xFF08;&#x6362;&#x8A00;&#x4E4B;&#xFF0C;stdin&#x3001;stdout &#x548C; stderr&#xFF09;&#x800C;&#x8A00;&#x662F;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x7BA1;&#x9053;&#x3002;
 &#x5BF9;&#x4E8E; fd 3 &#x53CA;&#x4EE5;&#x4E0A;&#x800C;&#x8A00;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A; <code>&apos;ignore&apos;</code>&#x3002;</li>
</ol>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="lang-js">const { spawn } = require(&apos;child_process&apos;);

// &#x5B50;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528;&#x7236;&#x8FDB;&#x7A0B;&#x7684; stdios
spawn(&apos;prg&apos;, [], { stdio: &apos;inherit&apos; });

// &#x884D;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x53EA;&#x5171;&#x4EAB; stderr
spawn(&apos;prg&apos;, [], { stdio: [&apos;pipe&apos;, &apos;pipe&apos;, process.stderr] });

// &#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x7684; fd=4&#xFF0C;&#x7528;&#x4E8E;&#x4E0E;&#x7A0B;&#x5E8F;&#x4EA4;&#x4E92;
spawn(&apos;prg&apos;, [], { stdio: [&apos;pipe&apos;, null, null, null, &apos;pipe&apos;] });
</code></pre>
<p>&#x5F53;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x4E86;&#x4E00;&#x4E2A; IPC &#x901A;&#x9053;&#xFF0C;&#x4E14;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x4E00;&#x4E2A; Node.js &#x8FDB;&#x7A0B;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x5E26;&#x7740;&#x672A;&#x5F15;&#x7528;&#x7684; IPC &#x901A;&#x9053;&#xFF08;&#x4F7F;&#x7528; <code>unref()</code>&#xFF09;&#x542F;&#x52A8;&#xFF0C;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x4E3A; <a href="process.html#process_event_disconnect"><code>process.on(&apos;disconnect&apos;)</code></a> &#x4E8B;&#x4EF6;&#x6216; <a href="process.html#process_event_message"><code>process.on(&apos;message&apos;)</code></a> &#x4E8B;&#x4EF6;&#x6CE8;&#x518C;&#x4E86;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x53E5;&#x67C4;&#x3002;
&#x8FD9;&#x4F7F;&#x5F97;&#x5B50;&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x5728;&#x8FDB;&#x7A0B;&#x6CA1;&#x6709;&#x901A;&#x8FC7;&#x6253;&#x5F00;&#x7684; IPC &#x901A;&#x9053;&#x4FDD;&#x6301;&#x6253;&#x5F00;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x8BE6;&#x89C1; <a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a> &#x548C; <a href="#child_process_child_process_fork_modulepath_args_options"><code>child_process.fork()</code></a>&#x3002;</p>
<h2>&#x521B;&#x5EFA;&#x540C;&#x6B65;&#x8FDB;&#x7A0B;<span><a class="mark" href="#child_process_synchronous_process_creation" id="child_process_synchronous_process_creation">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_synchronous_process_creation">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/synchronous_process_creation.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/synchronous_process_creation.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<p><a href="#child_process_child_process_spawnsync_command_args_options"><code>child_process.spawnSync()</code></a>&#x3001;<a href="#child_process_child_process_execsync_command_options"><code>child_process.execSync()</code></a> &#x548C; <a href="#child_process_child_process_execfilesync_file_args_options"><code>child_process.execFileSync()</code></a> &#x65B9;&#x6CD5;&#x662F;<strong>&#x540C;&#x6B65;&#x7684;</strong>&#x4E14;<strong>&#x4F1A;</strong>&#x963B;&#x585E; Node.js &#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF0C;&#x6682;&#x505C;&#x4EFB;&#x4F55;&#x989D;&#x5916;&#x4EE3;&#x7801;&#x7684;&#x6267;&#x884C;&#x76F4;&#x5230;&#x884D;&#x751F;&#x7684;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x50CF;&#x8FD9;&#x6837;&#x7684;&#x963B;&#x585E;&#x8C03;&#x7528;&#x6709;&#x5229;&#x4E8E;&#x7B80;&#x5316;&#x666E;&#x901A;&#x7528;&#x9014;&#x7684;&#x811A;&#x672C;&#x4EFB;&#x52A1;&#xFF0C;&#x4E14;&#x542F;&#x52A8;&#x65F6;&#x6709;&#x5229;&#x4E8E;&#x7B80;&#x5316;&#x5E94;&#x7528;&#x914D;&#x7F6E;&#x7684;&#x52A0;&#x8F7D;/&#x5904;&#x7406;&#x3002;</p>
<h3>child_process.execFileSync(file[, args][, options])<span><a class="mark" href="#child_process_child_process_execfilesync_file_args_options" id="child_process_child_process_execfilesync_file_args_options">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_child_process_execfilesync_file_args_options">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/child_process_execfilesync_file_args_options.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_execfilesync_file_args_options.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p>
</td></tr>
<tr><td>v8.0.0</td>
<td><p>The <code>input</code> option can now be a <code>Uint8Array</code>.</p>
</td></tr>
<tr><td>v6.2.1, v4.5.0</td>
<td><p>The <code>encoding</code> option can now explicitly be set to <code>buffer</code>.</p>
</td></tr>
<tr><td>v0.11.12</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.11.12</span></p>
</td></tr>
</table>
</details>
</div><ul>
<li><code>file</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#x6216;&#x8DEF;&#x5F84;&#x3002;</li>
<li><code>args</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string[]&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x5217;&#x8868;&#x3002;</li>
<li><code>options</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a><ul>
<li><code>cwd</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>input</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" class="type">&lt;Uint8Array&gt;</a> &#x8981;&#x4F5C;&#x4E3A; stdin &#x4F20;&#x7ED9;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#x7684;&#x503C;&#x3002;<ul>
<li>&#x63D0;&#x4F9B;&#x8BE5;&#x503C;&#x4F1A;&#x8986;&#x76D6; <code>stdio[0]</code>&#x3002;</li>
</ul>
</li>
<li><code>stdio</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x914D;&#x7F6E;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;pipe&apos;</code>&#x3002;<ul>
<li><code>stderr</code> &#x9ED8;&#x8BA4;&#x4F1A;&#x8F93;&#x51FA;&#x5230;&#x7236;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684; stderr&#xFF0C;&#x9664;&#x975E;&#x6307;&#x5B9A;&#x4E86; <code>stdio</code>&#x3002;</li>
</ul>
</li>
<li><code>env</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x952E;&#x503C;&#x5BF9;&#x3002;</li>
<li><code>uid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setuid.2.html">setuid(2)</a>&#xFF09;</li>
<li><code>gid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7EC4;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setgid.2.html">setgid(2)</a>&#xFF09;</li>
<li><code>timeout</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8FDB;&#x7A0B;&#x5141;&#x8BB8;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x5927;&#x65F6;&#x95F4;&#x6570;&#xFF0C;&#x4EE5;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>undefined</code>&#x3002;</li>
<li><code>killSignal</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;integer&gt;</a> &#x5F53;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#x5C06;&#x88AB;&#x6740;&#x6B7B;&#x65F6;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x4FE1;&#x53F7;&#x503C;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code></a> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>200*1024</code>&#x3002;
&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
See caveat at <a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code> and Unicode</a>.</li>
<li><code>encoding</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6240;&#x6709; stdio &#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x7684;&#x7F16;&#x7801;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;buffer&apos;</code>&#x3002;</li>
<li><code>windowsHide</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> Hide the subprocess console window that would
normally be created on Windows systems. <strong>Default:</strong> <code>false</code>.</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8BE5;&#x547D;&#x4EE4;&#x7684; stdout&#x3002;</li>
</ul>
<p><code>child_process.execFileSync()</code> &#x65B9;&#x6CD5;&#x4E0E; <a href="#child_process_child_process_execfile_file_args_options_callback"><code>child_process.execFile()</code></a> &#x57FA;&#x672C;&#x76F8;&#x540C;&#xFF0C;&#x9664;&#x4E86;&#x8BE5;&#x65B9;&#x6CD5;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x5173;&#x95ED;&#x540E;&#x624D;&#x8FD4;&#x56DE;&#x3002;
&#x5F53;&#x9047;&#x5230;&#x8D85;&#x65F6;&#x4E14;&#x53D1;&#x9001;&#x4E86; <code>killSignal</code> &#x65F6;&#xFF0C;&#x5219;&#x8BE5;&#x65B9;&#x6CD5;&#x76F4;&#x5230;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x9000;&#x51FA;&#x540E;&#x624D;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x62E6;&#x622A;&#x5E76;&#x5904;&#x7406;&#x4E86; <code>SIGTERM</code> &#x4FE1;&#x53F7;&#x4E14;&#x6CA1;&#x6709;&#x9000;&#x51FA;&#xFF0C;&#x5219;&#x7236;&#x8FDB;&#x7A0B;&#x4F1A;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x8D85;&#x65F6;&#xFF0C;&#x6216;&#x6709;&#x4E00;&#x4E2A;&#x975E;&#x96F6;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF0C;&#x5219;&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x629B;&#x51FA;&#x4E00;&#x4E2A; <a href="errors.html#errors_class_error"><code>Error</code></a>&#xFF0C;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x4E86;&#x5E95;&#x5C42; <a href="#child_process_child_process_spawnsync_command_args_options"><code>child_process.spawnSync()</code></a> &#x7684;&#x5B8C;&#x6574;&#x7ED3;&#x679C;&#x3002;</p>
<h3>child_process.execSync(command[, options])<span><a class="mark" href="#child_process_child_process_execsync_command_options" id="child_process_child_process_execsync_command_options">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_child_process_execsync_command_options">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/child_process_execsync_command_options.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_execsync_command_options.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p>
</td></tr>
<tr><td>v8.0.0</td>
<td><p>The <code>input</code> option can now be a <code>Uint8Array</code>.</p>
</td></tr>
<tr><td>v0.11.12</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.11.12</span></p>
</td></tr>
</table>
</details>
</div><ul>
<li><code>command</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002;</li>
<li><code>options</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a><ul>
<li><code>cwd</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>input</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" class="type">&lt;Uint8Array&gt;</a>} &#x8981;&#x4F5C;&#x4E3A; stdin &#x4F20;&#x7ED9;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#x7684;&#x503C;&#x3002;<ul>
<li>&#x63D0;&#x4F9B;&#x8BE5;&#x503C;&#x4F1A;&#x8986;&#x76D6; <code>stdio[0]</code>&#x3002;</li>
</ul>
</li>
<li><code>stdio</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x914D;&#x7F6E;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;pipe&apos;</code>&#x3002;<ul>
<li><code>stderr</code> &#x9ED8;&#x8BA4;&#x4F1A;&#x8F93;&#x51FA;&#x5230;&#x7236;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684; stderr&#xFF0C;&#x9664;&#x975E;&#x6307;&#x5B9A;&#x4E86; <code>stdio</code>&#x3002;</li>
</ul>
</li>
<li><code>env</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x952E;&#x503C;&#x5BF9;&#x3002;</li>
<li><code>shell</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x7684; shell&#x3002;
&#x5728; UNIX &#x4E0A;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;/bin/sh&apos;</code>&#xFF0C;&#x5728; Windows &#x4E0A;&#x9ED8;&#x8BA4;&#x4E3A; <code>process.env.ComSpec</code>&#x3002;
See <a href="#child_process_shell_requirements">Shell Requirements</a> and <a href="#child_process_default_windows_shell">Default Windows Shell</a>.</li>
<li><code>uid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setuid.2.html">setuid(2)</a>&#xFF09;</li>
<li><code>gid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7EC4;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setgid.2.html">setgid(2)</a>&#xFF09;</li>
<li><code>timeout</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8FDB;&#x7A0B;&#x5141;&#x8BB8;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x5927;&#x65F6;&#x95F4;&#x6570;&#xFF0C;&#x4EE5;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>undefined</code>&#x3002;</li>
<li><code>killSignal</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;integer&gt;</a> &#x5F53;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#x5C06;&#x88AB;&#x6740;&#x6B7B;&#x65F6;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x4FE1;&#x53F7;&#x503C;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code></a> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>200*1024</code>&#x3002;
&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
See caveat at <a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code> and Unicode</a>.</li>
<li><code>encoding</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6240;&#x6709; stdio &#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x7684;&#x7F16;&#x7801;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;buffer&apos;</code>&#x3002;</li>
<li><code>windowsHide</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> Hide the subprocess console window that would
normally be created on Windows systems. <strong>Default:</strong> <code>false</code>.</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8BE5;&#x547D;&#x4EE4;&#x7684; stdout&#x3002;</li>
</ul>
<p><code>child_process.execSync()</code> &#x65B9;&#x6CD5;&#x4E0E; <a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a> &#x57FA;&#x672C;&#x76F8;&#x540C;&#xFF0C;&#x9664;&#x4E86;&#x8BE5;&#x65B9;&#x6CD5;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x5173;&#x95ED;&#x540E;&#x624D;&#x8FD4;&#x56DE;&#x3002;
&#x5F53;&#x9047;&#x5230;&#x8D85;&#x65F6;&#x4E14;&#x53D1;&#x9001;&#x4E86; <code>killSignal</code> &#x65F6;&#xFF0C;&#x5219;&#x8BE5;&#x65B9;&#x6CD5;&#x76F4;&#x5230;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x9000;&#x51FA;&#x540E;&#x624D;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x62E6;&#x622A;&#x5E76;&#x5904;&#x7406;&#x4E86; <code>SIGTERM</code> &#x4FE1;&#x53F7;&#x4E14;&#x6CA1;&#x6709;&#x9000;&#x51FA;&#xFF0C;&#x5219;&#x7236;&#x8FDB;&#x7A0B;&#x4F1A;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x8D85;&#x65F6;&#xFF0C;&#x6216;&#x6709;&#x4E00;&#x4E2A;&#x975E;&#x96F6;&#x7684;&#x9000;&#x51FA;&#x7801;&#xFF0C;&#x5219;&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x3002;
<a href="errors.html#errors_class_error"><code>Error</code></a> &#x5BF9;&#x8C61;&#x4F1A;&#x5305;&#x542B;&#x4ECE; <a href="#child_process_child_process_spawnsync_command_args_options"><code>child_process.spawnSync()</code></a> &#x8FD4;&#x56DE;&#x7684;&#x6574;&#x4E2A;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x8981;&#x628A;&#x672A;&#x7ECF;&#x68C0;&#x67E5;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x5165;&#x5230;&#x8BE5;&#x51FD;&#x6570;&#x3002;
&#x4EFB;&#x4F55;&#x5305;&#x62EC; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x88AB;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x4F55;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<h3>child_process.spawnSync(command[, args][, options])<span><a class="mark" href="#child_process_child_process_spawnsync_command_args_options" id="child_process_child_process_spawnsync_command_args_options">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_child_process_spawnsync_command_args_options">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/child_process_spawnsync_command_args_options.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/child_process_spawnsync_command_args_options.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v8.8.0</td>
<td><p>The <code>windowsHide</code> option is supported now.</p>
</td></tr>
<tr><td>v8.0.0</td>
<td><p>The <code>input</code> option can now be a <code>Uint8Array</code>.</p>
</td></tr>
<tr><td>v6.2.1, v4.5.0</td>
<td><p>The <code>encoding</code> option can now explicitly be set to <code>buffer</code>.</p>
</td></tr>
<tr><td>v5.7.0</td>
<td><p>The <code>shell</code> option is supported now.</p>
</td></tr>
<tr><td>v0.11.12</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.11.12</span></p>
</td></tr>
</table>
</details>
</div><ul>
<li><code>command</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x8981;&#x8FD0;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x3002;</li>
<li><code>args</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> &#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;&#x5217;&#x8868;&#x3002;</li>
<li><code>options</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a><ul>
<li><code>cwd</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5F53;&#x524D;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x3002;</li>
<li><code>input</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array" class="type">&lt;Uint8Array&gt;</a> &#x8981;&#x4F5C;&#x4E3A; stdin &#x4F20;&#x7ED9;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#x7684;&#x503C;&#x3002;<ul>
<li>&#x63D0;&#x4F9B;&#x8BE5;&#x503C;&#x4F1A;&#x8986;&#x76D6; <code>stdio[0]</code></li>
</ul>
</li>
<li><code>stdio</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x914D;&#x7F6E;&#x3002;</li>
<li><code>env</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x73AF;&#x5883;&#x53D8;&#x91CF;&#x952E;&#x503C;&#x5BF9;&#x3002;</li>
<li><code>uid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7528;&#x6237;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setuid.2.html">setuid(2)</a>&#xFF09;</li>
<li><code>gid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8BBE;&#x7F6E;&#x8BE5;&#x8FDB;&#x7A0B;&#x7684;&#x7EC4;&#x6807;&#x8BC6;&#x3002;&#xFF08;&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/setgid.2.html">setgid(2)</a>&#xFF09;</li>
<li><code>timeout</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x8FDB;&#x7A0B;&#x5141;&#x8BB8;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x5927;&#x65F6;&#x95F4;&#x6570;&#xFF0C;&#x4EE5;&#x6BEB;&#x79D2;&#x4E3A;&#x5355;&#x4F4D;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>undefined</code>&#x3002;</li>
<li><code>killSignal</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;integer&gt;</a> &#x5F53;&#x884D;&#x751F;&#x8FDB;&#x7A0B;&#x5C06;&#x88AB;&#x6740;&#x6B7B;&#x65F6;&#x8981;&#x4F7F;&#x7528;&#x7684;&#x4FE1;&#x53F7;&#x503C;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;SIGTERM&apos;</code>&#x3002;</li>
<li><a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code></a> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> stdout &#x6216; stderr &#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B57;&#x8282;&#x6570;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>200*1024</code>&#x3002;
&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x9650;&#x5236;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
See caveat at <a href="#child_process_maxbuffer_and_unicode"><code>maxBuffer</code> and Unicode</a>.</li>
<li><code>encoding</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6240;&#x6709; stdio &#x8F93;&#x5165;&#x548C;&#x8F93;&#x51FA;&#x7684;&#x7F16;&#x7801;&#x3002;&#x9ED8;&#x8BA4;&#x4E3A; <code>&apos;buffer&apos;</code>&#x3002;</li>
<li><code>shell</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5982;&#x679C;&#x4E3A; <code>true</code>&#xFF0C;&#x5219;&#x5728;&#x4E00;&#x4E2A; shell &#x4E2D;&#x8FD0;&#x884C; <code>command</code>&#x3002;
&#x5728; UNIX &#x4E0A;&#x4F7F;&#x7528; <code>&apos;/bin/sh&apos;</code>&#xFF0C;&#x5728; Windows &#x4E0A;&#x4F7F;&#x7528; <code>process.env.ComSpec</code>&#x3002;
&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684; shell &#x53EF;&#x4EE5;&#x88AB;&#x6307;&#x5B9A;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x3002;
&#x67E5;&#x770B; <a href="#child_process_shell_requirements">Shell Requirements</a> &#x548C; <a href="#child_process_default_windows_shell">Default Windows Shell</a>.
&#x9ED8;&#x8BA4;&#x4E3A; <code>false</code>&#xFF08;&#x6CA1;&#x6709; shell&#xFF09;&#x3002;</li>
<li><code>windowsVerbatimArguments</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> &#x5728;Windows&#x4E0A;&#x4E0D;&#x4F1A;&#x5F15;&#x7528;&#x6216;&#x8F6C;&#x4E49;&#x53C2;&#x6570;&#x3002; &#x5728;Unix&#x4E0A;&#x5FFD;&#x7565;&#x3002; &#x5F53;&#x6307;&#x5B9A; shell &#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x81EA;&#x52A8;&#x8BBE;&#x7F6E;&#x4E3A;true&#x3002; <strong>&#x9ED8;&#x8BA4;&#xFF1A;</strong> false&#x3002;</li>
<li><code>windowsHide</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> Hide the subprocess console window that would
normally be created on Windows systems. <strong>Default:</strong> <code>false</code>.</li>
</ul>
</li>
<li>&#x8FD4;&#x56DE;: 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a><ul>
<li><code>pid</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684; pid&#x3002;</li>
<li><code>output</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a> stdio &#x8F93;&#x51FA;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x6570;&#x7EC4;&#x3002;</li>
<li><code>stdout</code> 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> <code>output[1]</code> &#x7684;&#x5185;&#x5BB9;&#x3002;</li>
<li><code>stderr</code> 
            <a href="buffer.html#buffer_class_buffer" class="type">&lt;Buffer&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> <code>output[2]</code> &#x7684;&#x5185;&#x5BB9;&#x3002;</li>
<li><code>status</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x9000;&#x51FA;&#x7801;&#x3002;</li>
<li><code>signal</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x7528;&#x4E8E;&#x6740;&#x6B7B;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x4FE1;&#x53F7;&#x3002;</li>
<li><code>error</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> &#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x5931;&#x8D25;&#x6216;&#x8D85;&#x65F6;&#x4EA7;&#x751F;&#x7684;&#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x3002;</li>
</ul>
</li>
</ul>
<p><code>child_process.spawnSync()</code> &#x65B9;&#x6CD5;&#x4E0E; <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a> &#x57FA;&#x672C;&#x76F8;&#x540C;&#xFF0C;&#x9664;&#x4E86;&#x8BE5;&#x65B9;&#x6CD5;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x5173;&#x95ED;&#x540E;&#x624D;&#x8FD4;&#x56DE;&#x3002;
&#x5F53;&#x9047;&#x5230;&#x8D85;&#x65F6;&#x4E14;&#x53D1;&#x9001;&#x4E86; <code>killSignal</code> &#x65F6;&#xFF0C;&#x5219;&#x8BE5;&#x65B9;&#x6CD5;&#x76F4;&#x5230;&#x8FDB;&#x7A0B;&#x5B8C;&#x5168;&#x9000;&#x51FA;&#x540E;&#x624D;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x3002;
&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x62E6;&#x622A;&#x5E76;&#x5904;&#x7406;&#x4E86; <code>SIGTERM</code> &#x4FE1;&#x53F7;&#x4E14;&#x6CA1;&#x6709;&#x9000;&#x51FA;&#xFF0C;&#x5219;&#x7236;&#x8FDB;&#x7A0B;&#x4F1A;&#x4E00;&#x76F4;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x4E0D;&#x8981;&#x628A;&#x672A;&#x7ECF;&#x68C0;&#x67E5;&#x7684;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4F20;&#x5165;&#x5230;&#x8BE5;&#x51FD;&#x6570;&#x3002;
&#x4EFB;&#x4F55;&#x5305;&#x62EC; shell &#x5143;&#x5B57;&#x7B26;&#x7684;&#x8F93;&#x5165;&#x90FD;&#x53EF;&#x88AB;&#x7528;&#x4E8E;&#x89E6;&#x53D1;&#x4EFB;&#x4F55;&#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x3002;</p>
<h2>ChildProcess &#x7C7B;<span><a class="mark" href="#child_process_class_childprocess" id="child_process_class_childprocess">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_class_childprocess">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/class_childprocess.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/class_childprocess.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v2.2.0</span>
</div><p><code>ChildProcess</code> &#x7C7B;&#x7684;&#x5B9E;&#x4F8B;&#x662F; <a href="events.html#events_class_eventemitter"><code>EventEmitter</code></a>&#xFF0C;&#x4EE3;&#x8868;&#x884D;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;</p>
<p><code>ChildProcess</code> &#x7684;&#x5B9E;&#x4F8B;&#x4E0D;&#x88AB;&#x76F4;&#x63A5;&#x521B;&#x5EFA;&#x3002;
&#x800C;&#x662F;&#xFF0C;&#x4F7F;&#x7528; <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a>&#x3001;<a href="#child_process_child_process_exec_command_options_callback"><code>child_process.exec()</code></a>&#x3001;<a href="#child_process_child_process_execfile_file_args_options_callback"><code>child_process.execFile()</code></a> &#x6216; <a href="#child_process_child_process_fork_modulepath_args_options"><code>child_process.fork()</code></a> &#x65B9;&#x6CD5;&#x521B;&#x5EFA; <code>ChildProcess</code> &#x5B9E;&#x4F8B;&#x3002;</p>
<h3>&apos;close&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="#child_process_event_close" id="child_process_event_close">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_event_close">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/event_close.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_close.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.7</span>
</div><ul>
<li><code>code</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x81EA;&#x8EAB;&#xFF0C;&#x5219;&#x8BE5;&#x503C;&#x662F;&#x9000;&#x51FA;&#x7801;&#x3002;</li>
<li><code>signal</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x7EC8;&#x6B62;&#x65F6;&#x7684;&#x4FE1;&#x53F7;&#x3002;</li>
</ul>
<p>&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x6D41;&#x88AB;&#x5173;&#x95ED;&#x65F6;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;close&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x8FD9;&#x4E0E; <a href="#child_process_event_exit"><code>&apos;exit&apos;</code></a> &#x4E8B;&#x4EF6;&#x4E0D;&#x540C;&#xFF0C;&#x56E0;&#x4E3A;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x53EF;&#x80FD;&#x5171;&#x4EAB;&#x540C;&#x4E00; stdio &#x6D41;&#x3002;</p>
<h3>&apos;disconnect&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="#child_process_event_disconnect" id="child_process_event_disconnect">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_event_disconnect">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/event_disconnect.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_disconnect.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.2</span>
</div><p>&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x4E2D;&#x8C03;&#x7528; <a href="#child_process_subprocess_disconnect"><code>subprocess.disconnect()</code></a> &#x6216;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x8C03;&#x7528; <a href="process.html#process_process_disconnect"><code>process.disconnect()</code></a> &#x540E;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;disconnect&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x65AD;&#x5F00;&#x540E;&#x5C31;&#x4E0D;&#x80FD;&#x518D;&#x53D1;&#x9001;&#x6216;&#x63A5;&#x6536;&#x4FE1;&#x606F;&#xFF0C;&#x4E14; <a href="#child_process_subprocess_connected"><code>subprocess.connected</code></a> &#x5C5E;&#x6027;&#x4F1A;&#x88AB;&#x8BBE;&#x4E3A; <code>false</code>&#x3002;</p>
<h3>&apos;error&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="#child_process_event_error" id="child_process_event_error">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_event_error">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/event_error.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_error.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="signature"><ul>
<li><code>err</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="type">&lt;Error&gt;</a> &#x9519;&#x8BEF;&#x5BF9;&#x8C61;&#x3002;</li>
</ul>
</div><p>&#x6BCF;&#x5F53;&#x51FA;&#x73B0;&#x4EE5;&#x4E0B;&#x60C5;&#x51B5;&#x65F6;&#x89E6;&#x53D1; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#xFF1A;</p>
<ol>
<li><p>&#x8FDB;&#x7A0B;&#x65E0;&#x6CD5;&#x88AB;&#x884D;&#x751F;&#xFF1B;</p>
</li>
<li><p>&#x8FDB;&#x7A0B;&#x65E0;&#x6CD5;&#x88AB;&#x6740;&#x6B7B;&#xFF1B;</p>
</li>
<li><p>&#x5411;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x606F;&#x5931;&#x8D25;&#x3002;</p>
</li>
</ol>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5728;&#x9519;&#x8BEF;&#x53D1;&#x751F;&#x540E;&#xFF0C;<code>&apos;exit&apos;</code> &#x4E8B;&#x4EF6;&#x53EF;&#x80FD;&#x4F1A;&#x4E5F;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x3002;
&#x5F53;&#x540C;&#x65F6;&#x76D1;&#x542C;&#x4E86; <code>&apos;exit&apos;</code> &#x548C; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#xFF0C;&#x8C28;&#x9632;&#x5904;&#x7406;&#x51FD;&#x6570;&#x88AB;&#x591A;&#x6B21;&#x8C03;&#x7528;&#x3002;</p>
<p>&#x8BE6;&#x89C1; <a href="#child_process_subprocess_kill_signal"><code>subprocess.kill()</code></a> &#x548C; <a href="#child_process_subprocess_send_message_sendhandle_options_callback"><code>subprocess.send()</code></a>&#x3002;</p>
<h3>&apos;exit&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="#child_process_event_exit" id="child_process_event_exit">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_event_exit">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/event_exit.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_exit.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div><ul>
<li><code>code</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x81EA;&#x8EAB;&#xFF0C;&#x5219;&#x8BE5;&#x503C;&#x662F;&#x9000;&#x51FA;&#x7801;&#x3002;</li>
<li><code>signal</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> &#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x7EC8;&#x6B62;&#x65F6;&#x7684;&#x4FE1;&#x53F7;&#x3002;</li>
</ul>
<p>&#x5B50;&#x8FDB;&#x7A0B;&#x7ED3;&#x675F;&#x540E;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;exit&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x9000;&#x51FA;&#x4E86;&#xFF0C;&#x5219; <code>code</code> &#x662F;&#x8FDB;&#x7A0B;&#x7684;&#x6700;&#x7EC8;&#x9000;&#x51FA;&#x7801;&#xFF0C;&#x5426;&#x5219;&#x4E3A; <code>null</code>&#x3002;
&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x662F;&#x6536;&#x5230;&#x7684;&#x4FE1;&#x53F7;&#x800C;&#x7EC8;&#x6B62;&#x7684;&#xFF0C;&#x5219; <code>signal</code> &#x662F;&#x4FE1;&#x53F7;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x540D;&#x79F0;&#xFF0C;&#x5426;&#x5219;&#x4E3A; <code>null</code>&#x3002;
&#x8FD9;&#x4E24;&#x4E2A;&#x603B;&#x6709;&#x4E00;&#x4E2A;&#x662F;&#x975E;&#x7A7A;&#x7684;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5F53; <code>&apos;exit&apos;</code> &#x4E8B;&#x4EF6;&#x88AB;&#x89E6;&#x53D1;&#x65F6;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdio &#x6D41;&#x53EF;&#x80FD;&#x4F9D;&#x7136;&#x662F;&#x6253;&#x5F00;&#x7684;&#x3002;</p>
<p>&#x53E6;&#x5916;&#xFF0C;&#x8FD8;&#x8981;&#x6CE8;&#x610F;&#xFF0C;Node.js &#x5EFA;&#x7ACB;&#x4E86; <code>SIGINT</code> &#x548C; <code>SIGTERM</code> &#x7684;&#x4FE1;&#x53F7;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x4E14; Node.js &#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x8FD9;&#x4E9B;&#x4FE1;&#x53F7;&#x4E5F;&#x4E0D;&#x4F1A;&#x7ACB;&#x5373;&#x7EC8;&#x6B62;&#x3002;
&#x76F8;&#x53CD;&#xFF0C;Node.js &#x4F1A;&#x6267;&#x884C;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6E05;&#x7406;&#x64CD;&#x4F5C;&#x540E;&#x91CD;&#x65B0;&#x5F15;&#x53D1;&#x5904;&#x7406;&#x4FE1;&#x53F7;&#x3002;</p>
<p>&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/waitpid.2.html">waitpid(2)</a>&#x3002;</p>
<h3>&apos;message&apos; &#x4E8B;&#x4EF6;<span><a class="mark" href="#child_process_event_message" id="child_process_event_message">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_event_message">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/event_message.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/event_message.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span>
</div><ul>
<li><code>message</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x4E00;&#x4E2A;&#x5DF2;&#x89E3;&#x6790;&#x7684; JSON &#x5BF9;&#x8C61;&#x6216;&#x539F;&#x59CB;&#x503C;&#x3002;</li>
<li><code>sendHandle</code> 
            <a href="net.html#net_server_listen_handle_backlog_callback" class="type">&lt;Handle&gt;</a> &#x4E00;&#x4E2A; <a href="net.html#net_class_net_socket"><code>net.Socket</code></a> &#x6216; <a href="net.html#net_class_net_server"><code>net.Server</code></a> &#x5BF9;&#x8C61; &#x6216; <code>undefined</code>&#x3002;</li>
</ul>
<p>&#x5F53;&#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x4F7F;&#x7528; <a href="process.html#process_process_send_message_sendhandle_options_callback"><code>process.send()</code></a> &#x53D1;&#x9001;&#x6D88;&#x606F;&#x65F6;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;message&apos;</code> &#x4E8B;&#x4EF6;&#x3002;</p>
<p><em>&#x6CE8;&#x610F;</em>: &#x6D88;&#x606F;&#x901A;&#x8FC7;JSON&#x5E8F;&#x5217;&#x5316;&#x548C;&#x89E3;&#x6790;&#x4F20;&#x9012;&#xFF0C;&#x7ED3;&#x679C;&#x5C31;&#x662F;&#x6D88;&#x606F;&#x53EF;&#x80FD;&#x8DDF;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x7684;&#x4E0D;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x3002;&#x8BF7;&#x67E5;&#x770B;
<a href="https://tc39.github.io/ecma262/#sec-json.stringify">the <code>JSON.stringify()</code> specification</a>.</p>
<p><a name="child_process_child_channel"></a></p>
<h3>subprocess.channel<span><a class="mark" href="#child_process_subprocess_channel" id="child_process_subprocess_channel">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_channel">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_channel.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_channel.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v7.1.0</span>
</div><ul>
<li>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a> &#x4EE3;&#x8868;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;IPC&#x901A;&#x9053;&#x7684;&#x7BA1;&#x9053;&#x3002;</li>
</ul>
<p><code>subprocess.channel</code> &#x5C5E;&#x6027;&#x662F;&#x5F53;&#x524D;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; IPC &#x901A;&#x9053;&#x7684;&#x5F15;&#x7528;&#x3002;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709; IPC &#x901A;&#x9053;&#xFF0C;&#x5219;&#x8BE5;&#x5C5E;&#x6027;&#x4E3A; <code>undefined</code>&#x3002;</p>
<p><a name="child_process_child_connected"></a></p>
<h3>subprocess.connected<span><a class="mark" href="#child_process_subprocess_connected" id="child_process_subprocess_connected">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_connected">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_connected.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_connected.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.2</span>
</div><ul>
<li>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> &#x8C03;&#x7528; <code>subprocess.disconnect()</code> &#x540E;&#x4F1A;&#x88AB;&#x8BBE;&#x4E3A; <code>false</code></li>
</ul>
<p><code>subprocess.connected</code> &#x5C5E;&#x6027;&#x8868;&#x660E;&#x662F;&#x5426;&#x4ECD;&#x53EF;&#x4EE5;&#x4ECE;&#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x548C;&#x63A5;&#x6536;&#x6D88;&#x606F;&#x3002;
&#x5F53; <code>subprocess.connected</code> &#x4E3A; <code>false</code> &#x65F6;&#xFF0C;&#x5219;&#x4E0D;&#x80FD;&#x518D;&#x53D1;&#x9001;&#x6216;&#x63A5;&#x6536;&#x7684;&#x6D88;&#x606F;&#x3002;</p>
<p><a name="child_process_child_disconnect"></a></p>
<h3>subprocess.disconnect()<span><a class="mark" href="#child_process_subprocess_disconnect" id="child_process_subprocess_disconnect">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_disconnect">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_disconnect.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_disconnect.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.2</span>
</div><p>&#x5173;&#x95ED;&#x7236;&#x8FDB;&#x7A0B;&#x4E0E;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x7684; IPC &#x901A;&#x9053;&#xFF0C;&#x4E00;&#x65E6;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x8FDE;&#x63A5;&#x4F7F;&#x5176;&#x4FDD;&#x6301;&#x6D3B;&#x8DC3;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x5B50;&#x8FDB;&#x7A0B;&#x6B63;&#x5E38;&#x9000;&#x51FA;&#x3002;
&#x8C03;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#x540E;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0A;&#x5404;&#x81EA;&#x7684; <code>subprocess.connected</code> &#x548C; <code>process.connected</code> &#x5C5E;&#x6027;&#x90FD;&#x4F1A;&#x88AB;&#x8BBE;&#x4E3A; <code>false</code>&#xFF0C;&#x4E14;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x4E0D;&#x80FD;&#x518D;&#x4F20;&#x9012;&#x6D88;&#x606F;&#x3002;</p>
<p>&#x5F53;&#x6B63;&#x5728;&#x63A5;&#x6536;&#x7684;&#x8FDB;&#x7A0B;&#x4E2D;&#x6CA1;&#x6709;&#x6D88;&#x606F;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x89E6;&#x53D1; <code>&apos;disconnect&apos;</code> &#x4E8B;&#x4EF6;&#x3002;
&#x8FD9;&#x7ECF;&#x5E38;&#x5728;&#x8C03;&#x7528; <code>subprocess.disconnect()</code> &#x540E;&#x7ACB;&#x5373;&#x88AB;&#x89E6;&#x53D1;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x4E00;&#x4E2A; Node.js &#x5B9E;&#x4F8B;&#x65F6;&#xFF08;&#x4F8B;&#x5982;&#x901A;&#x8FC7; <a href="#child_process_child_process_fork_modulepath_args_options"><code>child_process.fork()</code></a> &#x884D;&#x751F;&#x7684;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x5185;&#x8C03;&#x7528; <code>process.disconnect()</code> &#x65B9;&#x6CD5;&#x6765;&#x5173;&#x95ED; IPC &#x901A;&#x9053;&#x3002;</p>
<p><a name="child_process_child_kill_signal"></a></p>
<h3>subprocess.kill([signal])<span><a class="mark" href="#child_process_subprocess_kill_signal" id="child_process_subprocess_kill_signal">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_kill_signal">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_kill_signal.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_kill_signal.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div><ul>
<li><code>signal</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a></li>
</ul>
<p><code>subprocess.kill()</code> &#x65B9;&#x6CD5;&#x5411;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4E00;&#x4E2A;&#x4FE1;&#x53F7;&#x3002;
&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7ED9;&#x5B9A;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x8FDB;&#x7A0B;&#x4F1A;&#x53D1;&#x9001; <code>&apos;SIGTERM&apos;</code> &#x4FE1;&#x53F7;&#x3002;
&#x67E5;&#x770B; <a href="http://man7.org/linux/man-pages/man7/signal.7.html">signal(7)</a> &#x4E86;&#x89E3;&#x53EF;&#x7528;&#x7684;&#x4FE1;&#x53F7;&#x5217;&#x8868;&#x3002;</p>
<pre><code class="lang-js">const { spawn } = require(&apos;child_process&apos;);
const grep = spawn(&apos;grep&apos;, [&apos;ssh&apos;]);

grep.on(&apos;close&apos;, (code, signal) =&gt; {
  console.log(`&#x5B50;&#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x4FE1;&#x53F7; ${signal} &#x800C;&#x7EC8;&#x6B62;`);
});

// &#x53D1;&#x9001; SIGHUP &#x5230;&#x8FDB;&#x7A0B;
grep.kill(&apos;SIGHUP&apos;);
</code></pre>
<p>&#x5982;&#x679C;&#x4FE1;&#x53F7;&#x6CA1;&#x6709;&#x88AB;&#x9001;&#x8FBE;&#xFF0C;<a href="#child_process_child_process"><code>ChildProcess</code></a> &#x5BF9;&#x8C61;&#x53EF;&#x80FD;&#x4F1A;&#x89E6;&#x53D1;&#x4E00;&#x4E2A; <a href="#child_process_event_error"><code>&apos;error&apos;</code></a> &#x4E8B;&#x4EF6;&#x3002;
&#x5411;&#x4E00;&#x4E2A;&#x5DF2;&#x7ECF;&#x9000;&#x51FA;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x53EF;&#x80FD;&#x6709;&#x65E0;&#x6CD5;&#x9884;&#x77E5;&#x7684;&#x540E;&#x679C;&#x3002;
&#x7279;&#x522B;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x8FDB;&#x7A0B;&#x7684; PID &#x5DF2;&#x7ECF;&#x91CD;&#x65B0;&#x5206;&#x914D;&#x7ED9;&#x5176;&#x4ED6;&#x8FDB;&#x7A0B;&#xFF0C;&#x5219;&#x4FE1;&#x53F7;&#x4F1A;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x8BE5;&#x8FDB;&#x7A0B;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x80FD;&#x6709;&#x610F;&#x60F3;&#x4E0D;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5F53;&#x51FD;&#x6570;&#x88AB;&#x8C03;&#x7528; <code>kill</code> &#x65F6;&#xFF0C;&#x5DF2;&#x53D1;&#x9001;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x4FE1;&#x53F7;&#x53EF;&#x80FD;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x7EC8;&#x6B62;&#x8BE5;&#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x8BE6;&#x89C1; <a href="http://man7.org/linux/man-pages/man2/kill.2.html">kill(2)</a>&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x5728; Linux &#x4E0A;&#xFF0C;&#x5F53;&#x8BD5;&#x56FE;&#x6740;&#x6B7B;&#x7236;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0D;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
&#x8FD9;&#x6709;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x5728;&#x5F53;&#x5728;&#x4E00;&#x4E2A; shell &#x4E2D;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x65B0;&#x8FDB;&#x7A0B;&#x65F6;&#xFF0C;&#x6216;&#x4F7F;&#x7528; <code>ChildProcess</code> &#x4E2D;&#x7684; <code>shell</code> &#x9009;&#x9879;&#x65F6;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="lang-js">&apos;use strict&apos;;
const { spawn } = require(&apos;child_process&apos;);

const subprocess = spawn(
  &apos;sh&apos;,
  [
    &apos;-c&apos;,
    `node -e &quot;setInterval(() =&gt; {
      console.log(process.pid, &apos;is alive&apos;)
    }, 500);&quot;`
  ], {
    stdio: [&apos;inherit&apos;, &apos;inherit&apos;, &apos;inherit&apos;]
  }
);

setTimeout(() =&gt; {
  subprocess.kill(); // &#x4E0D;&#x4F1A;&#x7EC8;&#x6B62; shell &#x4E2D;&#x7684; node &#x8FDB;&#x7A0B;
}, 2000);
</code></pre>
<h3>subprocess.killed<span><a class="mark" href="#child_process_subprocess_killed" id="child_process_subprocess_killed">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_killed">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_killed.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_killed.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.5.10</span>
</div><ul>
<li>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a> &#x5F53; <code>subprocess.kill()</code> &#x5DF2;&#x6210;&#x529F;&#x53D1;&#x9001;&#x4FE1;&#x53F7;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x540E;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; <code>true</code>&#x3002;</li>
</ul>
<p><code>subprocess.killed</code> &#x5C5E;&#x6027;&#x8868;&#x660E;&#x8BE5;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x5DF2;&#x6210;&#x529F;&#x63A5;&#x6536;&#x5230; <code>subprocess.kill()</code> &#x7684;&#x4FE1;&#x53F7;&#x3002;
&#x8BE5;&#x5C5E;&#x6027;&#x4E0D;&#x4EE3;&#x8868;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x5DF2;&#x88AB;&#x7EC8;&#x6B62;&#x3002;</p>
<p><a name="child_process_child_pid"></a></p>
<h3>subprocess.pid<span><a class="mark" href="#child_process_subprocess_pid" id="child_process_subprocess_pid">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_pid">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_pid.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_pid.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div><ul>
<li>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Number_type" class="type">&lt;number&gt;</a> &#x6574;&#x6570;</li>
</ul>
<p>&#x8FD4;&#x56DE;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x8FDB;&#x7A0B;&#x6807;&#x8BC6;&#xFF08;PID&#xFF09;&#x3002;</p>
<p>&#x4F8B;&#x5B50;&#xFF1A;</p>
<pre><code class="lang-js">const { spawn } = require(&apos;child_process&apos;);
const grep = spawn(&apos;grep&apos;, [&apos;ssh&apos;]);

console.log(`&#x884D;&#x751F;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; pid&#xFF1A;${grep.pid}`);
grep.stdin.end();
</code></pre>
<p><a name="child_process_child_send_message_sendhandle_options_callback"></a></p>
<h3>subprocess.send(message[, sendHandle[, options]][, callback])<span><a class="mark" href="#child_process_subprocess_send_message_sendhandle_options_callback" id="child_process_subprocess_send_message_sendhandle_options_callback">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_send_message_sendhandle_options_callback">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_send_message_sendhandle_options_callback.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_send_message_sendhandle_options_callback.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<details class="changelog"><summary>&#x7248;&#x672C;&#x5386;&#x53F2;</summary>
<table>
<tr><th>&#x7248;&#x672C;</th><th>&#x53D8;&#x66F4;</th></tr>
<tr><td>v5.8.0</td>
<td><p>The <code>options</code> parameter, and the <code>keepOpen</code> option in particular, is supported now.</p>
</td></tr>
<tr><td>v5.0.0</td>
<td><p>This method returns a boolean for flow control now.</p>
</td></tr>
<tr><td>v4.0.0</td>
<td><p>The <code>callback</code> parameter is supported now.</p>
</td></tr>
<tr><td>v0.5.9</td>
<td><p><span>&#x65B0;&#x589E;&#x4E8E;: v0.5.9</span></p>
</td></tr>
</table>
</details>
</div><ul>
<li><code>message</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
<li><code>sendHandle</code> 
            <a href="net.html#net_server_listen_handle_backlog_callback" class="type">&lt;Handle&gt;</a></li>
<li><code>options</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="type">&lt;Object&gt;</a></li>
<li><code>callback</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li>&#x8FD4;&#x56DE;: 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Boolean_type" class="type">&lt;boolean&gt;</a></li>
</ul>
<p>&#x5F53;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;&#x4E86;&#x4E00;&#x4E2A; IPC &#x901A;&#x9053;&#x65F6;&#xFF08;&#x4F8B;&#x5982;&#xFF0C;&#x4F7F;&#x7528; <a href="#child_process_child_process_fork_modulepath_args_options"><code>child_process.fork()</code></a>&#xFF09;&#xFF0C;<code>subprocess.send()</code> &#x65B9;&#x6CD5;&#x53EF;&#x7528;&#x4E8E;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;
&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x662F;&#x4E00;&#x4E2A; Node.js &#x5B9E;&#x4F8B;&#x65F6;&#xFF0C;&#x6D88;&#x606F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <a href="process.html#process_event_message"><code>process.on(&apos;message&apos;)</code></a> &#x4E8B;&#x4EF6;&#x63A5;&#x6536;&#x3002;</p>
<p><em>&#x6CE8;&#x610F;</em>: &#x6D88;&#x606F;&#x901A;&#x8FC7;JSON&#x5E8F;&#x5217;&#x5316;&#x548C;&#x89E3;&#x6790;&#x8FDB;&#x884C;&#x4F20;&#x9012;&#xFF0C;&#x7ED3;&#x679C;&#x5C31;&#x662F;&#x6D88;&#x606F;&#x53EF;&#x80FD;&#x8DDF;&#x5F00;&#x59CB;&#x53D1;&#x9001;&#x7684;&#x4E0D;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x3002;&#x8BF7;&#x67E5;&#x770B;
<a href="https://tc39.github.io/ecma262/#sec-json.stringify">the <code>JSON.stringify()</code> specification</a>.</p>
<p>&#x4F8B;&#x5B50;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x811A;&#x672C;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-js">const cp = require(&apos;child_process&apos;);
const n = cp.fork(`${__dirname}/sub.js`);

n.on(&apos;message&apos;, (m) =&gt; {
  console.log(&apos;&#x7236;&#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x6D88;&#x606F;&#xFF1A;&apos;, m);
});

// Causes the child to print: CHILD got message: { hello: &apos;world&apos; }
n.send({ hello: &apos;world&apos; });
</code></pre>
<p>&#x7136;&#x540E;&#x662F;&#x5B50;&#x8FDB;&#x7A0B;&#x811A;&#x672C;&#xFF0C;<code>&apos;sub.js&apos;</code> &#x53EF;&#x80FD;&#x770B;&#x4E0A;&#x53BB;&#x50CF;&#x8FD9;&#x6837;&#xFF1A;</p>
<pre><code class="lang-js">process.on(&apos;message&apos;, (m) =&gt; {
  console.log(&apos;&#x5B50;&#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x6D88;&#x606F;&#xFF1A;&apos;, m);
});

// Causes the parent to print: PARENT got message: { foo: &apos;bar&apos;, baz: null }
process.send({ foo: &apos;bar&apos;, baz: NaN });
</code></pre>
<p>Node.js &#x4E2D;&#x7684;&#x5B50;&#x8FDB;&#x7A0B;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684; <a href="process.html#process_process_send_message_sendhandle_options_callback"><code>process.send()</code></a> &#x65B9;&#x6CD5;&#xFF0C;&#x5141;&#x8BB8;&#x5B50;&#x8FDB;&#x7A0B;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x56DE;&#x7236;&#x8FDB;&#x7A0B;&#x3002;</p>
<p>&#x5F53;&#x53D1;&#x9001;&#x4E00;&#x4E2A; <code>{cmd: &apos;NODE_foo&apos;}</code> &#x6D88;&#x606F;&#x65F6;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x7279;&#x4F8B;&#x3002;
&#x6240;&#x6709;&#x5728; <code>cmd</code> &#x5C5E;&#x6027;&#x91CC;&#x5305;&#x542B;&#x4E00;&#x4E2A; <code>NODE_</code> &#x524D;&#x7F00;&#x7684;&#x90FD;&#x4F1A;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x9884;&#x7559;&#x7ED9; Node.js &#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x4E14;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <a href="process.html#process_event_message"><code>process.on(&apos;message&apos;)</code></a> &#x4E8B;&#x4EF6;&#x3002;
&#x800C;&#x662F;&#xFF0C;&#x8FD9;&#x79CD;&#x6D88;&#x606F;&#x53EF;&#x4F7F;&#x7528; <code>process.on(&apos;internalMessage&apos;)</code> &#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#xFF0C;&#x4E14;&#x88AB; Node.js &#x5185;&#x90E8;&#x6D88;&#x8D39;&#x3002;
&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5E94;&#x907F;&#x514D;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x6D88;&#x606F;&#x6216;&#x76D1;&#x542C; <code>&apos;internalMessage&apos;</code> &#x4E8B;&#x4EF6;&#x3002;</p>
<p>&#x53EF;&#x9009;&#x7684; <code>sendHandle</code> &#x53C2;&#x6570;&#x53EF;&#x80FD;&#x88AB;&#x4F20;&#x7ED9; <code>subprocess.send()</code>&#xFF0C;&#x5B83;&#x7528;&#x4E8E;&#x4F20;&#x5165;&#x4E00;&#x4E2A; TCP &#x670D;&#x52A1;&#x5668;&#x6216; socket &#x5BF9;&#x8C61;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;
&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x63A5;&#x6536;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5E76;&#x4F20;&#x7ED9;&#x6CE8;&#x518C;&#x5728; <a href="process.html#process_event_message"><code>process.on(&apos;message&apos;)</code></a> &#x4E8B;&#x4EF6;&#x4E0A;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;
socket &#x4E0A;&#x63A5;&#x6536;&#x6216;&#x7F13;&#x51B2;&#x7684;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x4E0D;&#x4F1A;&#x88AB;&#x53D1;&#x9001;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;</p>
<p><code>options</code> &#x53C2;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x5B58;&#x5728;&#x7684;&#x8BDD;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x53D1;&#x9001;&#x6570;&#x636E;&#x53C2;&#x6570;&#x5BF9;&#x8C61;&#x3002;<code>options</code> &#x652F;&#x6301;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;&#xFF1A;</p>
<ul>
<li><code>keepOpen</code> - &#x4E00;&#x4E2A; Boolean &#x503C;&#xFF0C;&#x5F53;&#x4F20;&#x5165; <code>net.Socket</code> &#x5B9E;&#x4F8B;&#x65F6;&#x53EF;&#x7528;&#x3002;
&#x5F53;&#x4E3A; <code>true</code> &#x65F6;&#xFF0C;socket &#x5728;&#x53D1;&#x9001;&#x8FDB;&#x7A0B;&#x4E2D;&#x4FDD;&#x6301;&#x6253;&#x5F00;&#x3002;
&#x9ED8;&#x8BA4;&#x4E3A; <code>false</code>&#x3002;</li>
</ul>
<p>&#x53EF;&#x9009;&#x7684; <code>callback</code> &#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x5728;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x4E4B;&#x540E;&#x3001;&#x5B50;&#x8FDB;&#x7A0B;&#x6536;&#x5230;&#x6D88;&#x606F;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x3002;
&#x8BE5;&#x51FD;&#x6570;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x6210;&#x529F;&#x65F6;&#x662F; <code>null</code>&#xFF0C;&#x5931;&#x8D25;&#x65F6;&#x662F;&#x4E00;&#x4E2A; <a href="errors.html#errors_class_error"><code>Error</code></a> &#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x63D0;&#x4F9B; <code>callback</code> &#x51FD;&#x6570;&#xFF0C;&#x4E14;&#x6D88;&#x606F;&#x6CA1;&#x88AB;&#x53D1;&#x9001;&#xFF0C;&#x5219;&#x4E00;&#x4E2A; <code>&apos;error&apos;</code> &#x4E8B;&#x4EF6;&#x5C06;&#x88AB; <a href="#child_process_child_process"><code>ChildProcess</code></a> &#x5BF9;&#x8C61;&#x89E6;&#x53D1;&#x3002;
&#x8FD9;&#x662F;&#x6709;&#x53EF;&#x80FD;&#x53D1;&#x751F;&#x7684;&#xFF0C;&#x4F8B;&#x5982;&#x5F53;&#x5B50;&#x8FDB;&#x7A0B;&#x5DF2;&#x7ECF;&#x9000;&#x51FA;&#x65F6;&#x3002;</p>
<p>&#x5982;&#x679C;&#x901A;&#x9053;&#x5DF2;&#x5173;&#x95ED;&#xFF0C;&#x6216;&#x5F53;&#x672A;&#x53D1;&#x9001;&#x7684;&#x6D88;&#x606F;&#x7684;&#x79EF;&#x538B;&#x8D85;&#x8FC7;&#x9608;&#x503C;&#x4F7F;&#x5176;&#x65E0;&#x6CD5;&#x53D1;&#x9001;&#x66F4;&#x591A;&#x65F6;&#xFF0C;<code>subprocess.send()</code> &#x4F1A;&#x8FD4;&#x56DE; <code>false</code>&#x3002;
&#x9664;&#x6B64;&#x4EE5;&#x5916;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE; <code>true</code>&#x3002;
<code>callback</code> &#x51FD;&#x6570;&#x53EF;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x6D41;&#x91CF;&#x63A7;&#x5236;&#x3002;</p>
<h4>&#x4F8B;&#x5B50;&#xFF1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A; server &#x5BF9;&#x8C61;<span><a class="mark" href="#child_process_example_sending_a_server_object" id="child_process_example_sending_a_server_object">#</a></span></h4><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_example_sending_a_server_object">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/example_sending_a_server_object.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/example_sending_a_server_object.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<p><code>sendHandle</code> &#x53C2;&#x6570;&#x53EF;&#x7528;&#x4E8E;&#x5C06;&#x4E00;&#x4E2A; TCP server &#x5BF9;&#x8C61;&#x53E5;&#x67C4;&#x4F20;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre><code class="lang-js">const subprocess = require(&apos;child_process&apos;).fork(&apos;subprocess.js&apos;);

// &#x5F00;&#x542F; server &#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x53D1;&#x9001;&#x8BE5;&#x53E5;&#x67C4;&#x3002;
const server = require(&apos;net&apos;).createServer();
server.on(&apos;connection&apos;, (socket) =&gt; {
  socket.end(&apos;&#x88AB;&#x7236;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&apos;);
});
server.listen(1337, () =&gt; {
  subprocess.send(&apos;server&apos;, server);
});
</code></pre>
<p>&#x5B50;&#x8FDB;&#x7A0B;&#x63A5;&#x6536; server &#x5BF9;&#x8C61;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code class="lang-js">process.on(&apos;message&apos;, (m, server) =&gt; {
  if (m === &apos;server&apos;) {
    server.on(&apos;connection&apos;, (socket) =&gt; {
      socket.end(&apos;&#x88AB;&#x5B50;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&apos;);
    });
  }
});
</code></pre>
<p>&#x5F53;&#x670D;&#x52A1;&#x5668;&#x5728;&#x7236;&#x8FDB;&#x7A0B;&#x548C;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x662F;&#x5171;&#x4EAB;&#x7684;&#xFF0C;&#x5219;&#x4E00;&#x4E9B;&#x8FDE;&#x63A5;&#x53EF;&#x88AB;&#x7236;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&#xFF0C;&#x53E6;&#x4E00;&#x4E9B;&#x53EF;&#x88AB;&#x5B50;&#x8FDB;&#x7A0B;&#x5904;&#x7406;&#x3002;</p>
<p>&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A; <code>net</code> &#x6A21;&#x5757;&#x521B;&#x5EFA;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x800C; <code>dgram</code> &#x6A21;&#x5757;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#xFF0C;&#x4F46;&#x5B83;&#x76D1;&#x542C;&#x4E00;&#x4E2A; <code>&apos;message&apos;</code> &#x4E8B;&#x4EF6;&#x800C;&#x4E0D;&#x662F; <code>&apos;connection&apos;</code> &#x4E8B;&#x4EF6;&#xFF0C;&#x4E14;&#x4F7F;&#x7528; <code>server.bind</code> &#x800C;&#x4E0D;&#x662F; <code>server.listen()</code>&#x3002;
&#x76EE;&#x524D;&#x4EC5; UNIX &#x5E73;&#x53F0;&#x652F;&#x6301;&#x8FD9;&#x4E00;&#x70B9;&#x3002;</p>
<h4>&#x4F8B;&#x5B50;&#xFF1A;&#x53D1;&#x9001;&#x4E00;&#x4E2A; socket &#x5BF9;&#x8C61;<span><a class="mark" href="#child_process_example_sending_a_socket_object" id="child_process_example_sending_a_socket_object">#</a></span></h4><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_example_sending_a_socket_object">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/example_sending_a_socket_object.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/example_sending_a_socket_object.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<p>&#x540C;&#x6837;&#xFF0C;<code>sendHandle</code> &#x53C2;&#x6570;&#x53EF;&#x7528;&#x4E8E;&#x5C06;&#x4E00;&#x4E2A; socket &#x53E5;&#x67C4;&#x4F20;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;
&#x4EE5;&#x4E0B;&#x4F8B;&#x5B50;&#x884D;&#x751F;&#x4E86;&#x4E24;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5206;&#x522B;&#x7528;&#x4E8E;&#x5904;&#x7406; &quot;normal&quot; &#x8FDE;&#x63A5;&#x6216;&#x4F18;&#x5148;&#x5904;&#x7406; &quot;special&quot; &#x8FDE;&#x63A5;&#xFF1A;</p>
<pre><code class="lang-js">const { fork } = require(&apos;child_process&apos;);
const normal = fork(&apos;subprocess.js&apos;, [&apos;normal&apos;]);
const special = fork(&apos;subprocess.js&apos;, [&apos;special&apos;]);

// &#x5F00;&#x542F; server&#xFF0C;&#x5E76;&#x53D1;&#x9001; socket &#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x3002;
// &#x4F7F;&#x7528; `pauseOnConnect` &#x9632;&#x6B62; socket &#x5728;&#x88AB;&#x53D1;&#x9001;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x4E4B;&#x524D;&#x88AB;&#x8BFB;&#x53D6;&#x3002;
const server = require(&apos;net&apos;).createServer({ pauseOnConnect: true });
server.on(&apos;connection&apos;, (socket) =&gt; {

  // &#x7279;&#x6B8A;&#x4F18;&#x5148;&#x7EA7;
  if (socket.remoteAddress === &apos;74.125.127.100&apos;) {
    special.send(&apos;socket&apos;, socket);
    return;
  }
  // &#x666E;&#x901A;&#x4F18;&#x5148;&#x7EA7;
  normal.send(&apos;socket&apos;, socket);
});
server.listen(1337);
</code></pre>
<p><code>subprocess.js</code> &#x4F1A;&#x63A5;&#x6536;&#x5230;&#x4E00;&#x4E2A; socket &#x53E5;&#x67C4;&#xFF0C;&#x5E76;&#x4F5C;&#x4E3A;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x7ED9;&#x4E8B;&#x4EF6;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF1A;</p>
<pre><code class="lang-js">process.on(&apos;message&apos;, (m, socket) =&gt; {
  if (m === &apos;socket&apos;) {
    socket.end(`&#x8BF7;&#x6C42;&#x88AB; ${process.argv[2]} &#x4F18;&#x5148;&#x7EA7;&#x5904;&#x7406;`);
  }
});
process.on(&apos;message&apos;, (m, socket) =&gt; {
  if (m === &apos;socket&apos;) {
    if (socket) {
      // &#x68C0;&#x67E5;&#x5BA2;&#x6237;&#x7AEF; socket &#x662F;&#x5426;&#x5B58;&#x5728;&#x3002;
      // socket &#x5728;&#x88AB;&#x53D1;&#x9001;&#x4E0E;&#x88AB;&#x5B50;&#x8FDB;&#x7A0B;&#x63A5;&#x6536;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x53EF;&#x88AB;&#x5173;&#x95ED;&#x3002;
      socket.end(`&#x8BF7;&#x6C42;&#x88AB; ${process.argv[2]} &#x4F18;&#x5148;&#x7EA7;&#x5904;&#x7406;`);
    }
  }
});
</code></pre>
<p>&#x4E00;&#x65E6;&#x4E00;&#x4E2A; socket &#x5DF2;&#x88AB;&#x4F20;&#x7ED9;&#x4E86;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x5219;&#x7236;&#x8FDB;&#x7A0B;&#x4E0D;&#x518D;&#x80FD;&#x591F;&#x8DDF;&#x8E2A; socket &#x4F55;&#x65F6;&#x88AB;&#x9500;&#x6BC1;&#x3002;
&#x4E3A;&#x4E86;&#x8868;&#x660E;&#x8FD9;&#x4E2A;&#xFF0C;<code>.connections</code> &#x5C5E;&#x6027;&#x4F1A;&#x53D8;&#x6210; <code>null</code>&#x3002;
&#x5F53;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x65F6;&#xFF0C;&#x5EFA;&#x8BAE;&#x4E0D;&#x8981;&#x4F7F;&#x7528; <code>.maxConnections</code>&#x3002;</p>
<p>&#x5EFA;&#x8BAE;&#x5728;&#x5B50;&#x8FDB;&#x7A0B;&#x4E2D;&#x7684;&#x4EFB;&#x4F55; <code>message</code> &#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x90FD;&#x9700;&#x8981;&#x9A8C;&#x8BC1; <code>socket</code> &#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x56E0;&#x4E3A;&#x8FDE;&#x63A5;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x5B83;&#x5728;&#x53D1;&#x9001;&#x7ED9;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x8FD9;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x88AB;&#x5173;&#x95ED;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x4F7F;&#x7528; [<code>JSON.stringify()</code>] &#x5E8F;&#x5217;&#x5316; <code>message</code>&#x3002;</p>
<p><a name="child_process_child_stderr"></a></p>
<h3>subprocess.stderr<span><a class="mark" href="#child_process_subprocess_stderr" id="child_process_subprocess_stderr">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_stderr">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_stderr.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_stderr.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div><ul>
<li>
            <a href="stream.html#stream_class_stream_readable" class="type">&lt;stream.Readable&gt;</a></li>
</ul>
<p>&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>stderr</code> &#x7684;&#x53EF;&#x8BFB;&#x6D41;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x884D;&#x751F;&#x65F6; <code>stdio[2]</code> &#x88AB;&#x8BBE;&#x4E3A;&#x4EFB;&#x4F55;&#x4E0D;&#x662F; <code>&apos;pipe&apos;</code> &#x7684;&#x503C;&#xFF0C;&#x5219;&#x8FD9;&#x4F1A;&#x662F; <code>null</code>&#x3002;</p>
<p><code>subprocess.stderr</code> &#x662F; <code>subprocess.stdio[2]</code> &#x7684;&#x4E00;&#x4E2A;&#x522B;&#x540D;&#x3002;
&#x8FD9;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x6307;&#x5411;&#x76F8;&#x540C;&#x7684;&#x503C;&#x3002;</p>
<p><a name="child_process_child_stdin"></a></p>
<h3>subprocess.stdin<span><a class="mark" href="#child_process_subprocess_stdin" id="child_process_subprocess_stdin">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_stdin">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_stdin.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_stdin.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div><ul>
<li>
            <a href="stream.html#stream_class_stream_writable" class="type">&lt;stream.Writable&gt;</a></li>
</ul>
<p>&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>stdin</code> &#x7684;&#x53EF;&#x5199;&#x6D41;&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x8BFB;&#x53D6;&#x6240;&#x6709;&#x7684;&#x8F93;&#x5165;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4E0D;&#x4F1A;&#x7EE7;&#x7EED;&#x76F4;&#x5230;&#x6D41;&#x5DF2;&#x901A;&#x8FC7; <code>end()</code> &#x5173;&#x95ED;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x884D;&#x751F;&#x65F6; <code>stdio[0]</code> &#x88AB;&#x8BBE;&#x4E3A;&#x4EFB;&#x4F55;&#x4E0D;&#x662F; <code>&apos;pipe&apos;</code> &#x7684;&#x503C;&#xFF0C;&#x5219;&#x8FD9;&#x4F1A;&#x662F; <code>null</code>&#x3002;</p>
<p><code>subprocess.stdin</code> &#x662F; <code>subprocess.stdio[0]</code> &#x7684;&#x4E00;&#x4E2A;&#x522B;&#x540D;&#x3002;
&#x8FD9;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x6307;&#x5411;&#x76F8;&#x540C;&#x7684;&#x503C;&#x3002;</p>
<p><a name="child_process_child_stdio"></a></p>
<h3>subprocess.stdio<span><a class="mark" href="#child_process_subprocess_stdio" id="child_process_subprocess_stdio">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_stdio">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_stdio.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_stdio.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.7.10</span>
</div><ul>
<li>
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" class="type">&lt;Array&gt;</a></li>
</ul>
<p>&#x4E00;&#x4E2A;&#x5230;&#x5B50;&#x8FDB;&#x7A0B;&#x7684;&#x7BA1;&#x9053;&#x7684;&#x7A00;&#x758F;&#x6570;&#x7EC4;&#xFF0C;&#x5BF9;&#x5E94;&#x7740;&#x4F20;&#x7ED9; <a href="#child_process_child_process_spawn_command_args_options"><code>child_process.spawn()</code></a> &#x7684;&#x9009;&#x9879;&#x4E2D;&#x503C;&#x88AB;&#x8BBE;&#x4E3A; <code>&apos;pipe&apos;</code> &#x7684; <a href="#child_process_options_stdio"><code>stdio</code></a>&#x3002;
&#x6CE8;&#x610F;&#xFF0C;<code>subprocess.stdio[0]</code>&#x3001;<code>subprocess.stdio[1]</code> &#x548C; <code>subprocess.stdio[2]</code> &#x5206;&#x522B;&#x53EF;&#x7528;&#x4F5C; <code>subprocess.stdin</code>&#x3001; <code>subprocess.stdout</code> &#x548C; <code>subprocess.stderr</code>&#x3002;</p>
<p>&#x5728;&#x4E0B;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x53EA;&#x6709;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; fd <code>1</code>&#xFF08;stdout&#xFF09;&#x88AB;&#x914D;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x7BA1;&#x9053;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x6709;&#x7236;&#x8FDB;&#x7A0B;&#x7684; <code>subprocess.stdio[1]</code> &#x662F;&#x4E00;&#x4E2A;&#x6D41;&#xFF0C;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x503C;&#x90FD;&#x662F; <code>null</code>&#x3002;</p>
<pre><code class="lang-js">const assert = require(&apos;assert&apos;);
const fs = require(&apos;fs&apos;);
const child_process = require(&apos;child_process&apos;);

const subprocess = child_process.spawn(&apos;ls&apos;, {
  stdio: [
    0, // &#x4F7F;&#x7528;&#x7236;&#x8FDB;&#x7A0B;&#x7684; stdin &#x7528;&#x4E8E;&#x5B50;&#x8FDB;&#x7A0B;
    &apos;pipe&apos;, // &#x628A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stdout &#x901A;&#x8FC7;&#x7BA1;&#x9053;&#x4F20;&#x5230;&#x7236;&#x8FDB;&#x7A0B; 
    fs.openSync(&apos;err.out&apos;, &apos;w&apos;) // &#x628A;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; stderr &#x6307;&#x5411;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;
  ]
});

assert.strictEqual(subprocess.stdio[0], null);
assert.strictEqual(subprocess.stdio[0], subprocess.stdin);

assert(subprocess.stdout);
assert.strictEqual(subprocess.stdio[1], subprocess.stdout);

assert.strictEqual(subprocess.stdio[2], null);
assert.strictEqual(subprocess.stdio[2], subprocess.stderr);
</code></pre>
<p><a name="child_process_child_stdout"></a></p>
<h3>subprocess.stdout<span><a class="mark" href="#child_process_subprocess_stdout" id="child_process_subprocess_stdout">#</a></span></h3><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_subprocess_stdout">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/subprocess_stdout.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/subprocess_stdout.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<div class="api_metadata">
<span>&#x65B0;&#x589E;&#x4E8E;: v0.1.90</span>
</div><ul>
<li>
            <a href="stream.html#stream_class_stream_readable" class="type">&lt;stream.Readable&gt;</a></li>
</ul>
<p>&#x4E00;&#x4E2A;&#x4EE3;&#x8868;&#x5B50;&#x8FDB;&#x7A0B;&#x7684; <code>stdout</code> &#x7684;&#x53EF;&#x8BFB;&#x6D41;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5B50;&#x8FDB;&#x7A0B;&#x88AB;&#x884D;&#x751F;&#x65F6; <code>stdio[1]</code> &#x88AB;&#x8BBE;&#x4E3A;&#x4EFB;&#x4F55;&#x4E0D;&#x662F; <code>&apos;pipe&apos;</code> &#x7684;&#x503C;&#xFF0C;&#x5219;&#x8FD9;&#x4F1A;&#x662F; <code>null</code>&#x3002;</p>
<p><code>subprocess.stdout</code> &#x662F; <code>subprocess.stdio[1]</code> &#x7684;&#x4E00;&#x4E2A;&#x522B;&#x540D;&#x3002;
&#x8FD9;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x6307;&#x5411;&#x76F8;&#x540C;&#x7684;&#x503C;&#x3002;</p>
<h2><code>maxBuffer</code> &#x4E0E; Unicode<span><a class="mark" href="#child_process_maxbuffer_and_unicode" id="child_process_maxbuffer_and_unicode">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_maxbuffer_and_unicode">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/maxbuffer_and_unicode.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/maxbuffer_and_unicode.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<p><code>maxBuffer</code> &#x9009;&#x9879;&#x6307;&#x5B9A;&#x4E86; <code>stdout</code> &#x6216; <code>stderr</code> &#x4E0A;&#x5141;&#x8BB8;&#x7684;&#x5B57;&#x8282;&#x6570;&#x7684;&#x6700;&#x5927;&#x503C;&#x3002;
&#x5982;&#x679C;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x503C;&#xFF0C;&#x5219;&#x5B50;&#x8FDB;&#x7A0B;&#x4F1A;&#x88AB;&#x7EC8;&#x6B62;&#x3002;
&#x8FD9;&#x4F1A;&#x5F71;&#x54CD;&#x5305;&#x542B;&#x591A;&#x5B57;&#x8282;&#x5B57;&#x7B26;&#x7F16;&#x7801;&#x7684;&#x8F93;&#x51FA;&#xFF0C;&#x5982; UTF-8 &#x6216; UTF-16&#x3002;
&#x4F8B;&#x5982;&#xFF0C;<code>console.log(&apos;&#x4E2D;&#x6587;&#x6D4B;&#x8BD5;&apos;)</code> &#x4F1A;&#x53D1;&#x9001; 13 &#x4E2A; UTF-8 &#x7F16;&#x7801;&#x7684;&#x5B57;&#x8282;&#x5230; <code>stdout</code>&#xFF0C;&#x5C3D;&#x7BA1;&#x53EA;&#x6709; 4 &#x4E2A;&#x5B57;&#x7B26;&#x3002;</p>
<h2>Shell Requirements<span><a class="mark" href="#child_process_shell_requirements" id="child_process_shell_requirements">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_shell_requirements">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/shell_requirements.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/shell_requirements.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<p>Shell&#x5E94;&#x8BE5;&#x77E5;&#x9053;UNIX&#x4E2D;&#x7684;<code>-c</code>&#x5F00;&#x5173;&#x6216;&#x8005;Window&#x4E0A;&#x7684;<code>/d /s /c</code>&#x3002;&#x5728;Windows&#x4E0A;&#xFF0C;&#x547D;&#x4EE4;&#x884C;&#x89E3;&#x6790;&#x5E94;&#x8BE5;&#x517C;&#x5BB9;<code>&apos;cmd.exe&apos;</code>&#x3002;</p>
<h2>Default Windows Shell<span><a class="mark" href="#child_process_default_windows_shell" id="child_process_default_windows_shell">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/child_process.html#child_process_default_windows_shell">&#x67E5;&#x770B;&#x82F1;&#x6587;&#x7248;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-en/edit/master/child_process/default_windows_shell.md">&#x67E5;&#x770B;&#x82F1;&#x6587;md&#x6587;&#x4EF6;</a> / <a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/child_process/default_windows_shell.md">&#x7F16;&#x8F91;&#x4E2D;&#x6587;md&#x6587;&#x4EF6;</a></p>
<p>Although Microsoft specifies <code>%COMSPEC%</code> must contain the path to
<code>&apos;cmd.exe&apos;</code> in the root environment, child processes are not always subject to
the same requirement. Thus, in <code>child_process</code> functions where a shell can be
spawned, <code>&apos;cmd.exe&apos;</code> is used as a fallback if <code>process.env.ComSpec</code> is
unavailable.</p>

      </div>
    </div>
  </div>
  <!-- 搜索弹窗 -->
  <div id="modal_search_bg"></div>
  <div id="modal_search">
    <input placeholder="API &#x5FEB;&#x901F;&#x641C;&#x7D22;" id="modal_search_input">
    <div id="modal_search_result"></div>
  </div>
  <!-- js -->
  <!--[if lt IE 10]><script src="/static/lib/placeholders.js?20170426"></script><![endif]-->
 
</body>
</html>