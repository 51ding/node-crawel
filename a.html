
  <div id="content" class="clearfix">
    <div id="column2" class="interior">
      <div id="intro" class="interior">
        <a href="/">
          Node.js 中文网
        </a>
        <div>
          <input placeholder="API 快速搜索" id="search_input">
        </div>
      </div>
      <ul>
<li><a class="nav-assert active" href="assert.html">assert - 断言</a></li>
<li><a class="nav-buffer" href="buffer.html">Buffer - 缓冲器</a></li>
<li><a class="nav-child_process" href="child_process.html">child_process - 子进程</a></li>
<li><a class="nav-cluster" href="cluster.html">cluster - 集群</a></li>
<li><a class="nav-console" href="console.html">console - 控制台</a></li>
<li><a class="nav-crypto" href="crypto.html">crypto - 加密</a></li>
<li><a class="nav-dgram" href="dgram.html">dgram - 数据报</a></li>
<li><a class="nav-dns" href="dns.html">dns - 域名服务器</a></li>
<li><a class="nav-errors" href="errors.html">Error - 异常</a></li>
<li><a class="nav-events" href="events.html">events - 事件</a></li>
<li><a class="nav-fs" href="fs.html">fs - 文件系统</a></li>
<li><a class="nav-globals" href="globals.html">global - 全局变量</a></li>
<li><a class="nav-http" href="http.html">http - HTTP</a></li>
<li><a class="nav-https" href="https.html">https - HTTPS</a></li>
<li><a class="nav-modules" href="modules.html">module - 模块</a></li>
<li><a class="nav-net" href="net.html">net - 网络</a></li>
<li><a class="nav-os" href="os.html">os - 操作系统</a></li>
<li><a class="nav-path" href="path.html">path - 路径</a></li>
<li><a class="nav-process" href="process.html">process - 进程</a></li>
<li><a class="nav-querystring" href="querystring.html">querystring - 查询字符串</a></li>
<li><a class="nav-readline" href="readline.html">readline - 逐行读取</a></li>
<li><a class="nav-repl" href="repl.html">repl - 交互式解释器</a></li>
<li><a class="nav-stream" href="stream.html">stream - 流</a></li>
<li><a class="nav-string_decoder" href="string_decoder.html">string_decoder - 字符串解码器</a></li>
<li><a class="nav-timers" href="timers.html">timer - 定时器</a></li>
<li><a class="nav-tls" href="tls.html">tls - 安全传输层</a></li>
<li><a class="nav-tty" href="tty.html">tty - 终端</a></li>
<li><a class="nav-url" href="url.html">url - 网址</a></li>
<li><a class="nav-util" href="util.html">util - 实用工具</a></li>
<li><a class="nav-v8" href="v8.html">v8 - V8引擎</a></li>
<li><a class="nav-vm" href="vm.html">vm - 虚拟机</a></li>
<li><a class="nav-zlib" href="zlib.html">zlib - 压缩</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav--api-documentation-documentation_stability_index" href="/api/documentation.html#documentation_stability_index">试验的API</a></li>
<li><a class="nav-async_hooks" href="async_hooks.html">async_hooks</a></li>
<li><a class="nav-http2" href="http2.html">http2</a></li>
<li><a class="nav-inspector" href="inspector.html">inspector</a></li>
<li><a class="nav-n-api" href="n-api.html">napi</a></li>
<li><a class="nav-perf_hooks" href="perf_hooks.html">perf_hooks</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-deprecations" href="deprecations.html">废弃的API</a></li>
<li><a class="nav-domain" href="domain.html">domain</a></li>
<li><a class="nav-punycode" href="punycode.html">punycode</a></li>
</ul>
<div class="line"></div>

<ul>
<li><a class="nav-documentation" href="documentation.html">关于本文档</a></li>
<li><a class="nav-synopsis" href="synopsis.html">用法与例子</a></li>
<li><a class="nav-addons" href="addons.html">C++插件</a></li>
<li><a class="nav-cli" href="cli.html">命令行选项</a></li>
<li><a class="nav-debugger" href="debugger.html">debugger调试器</a></li>
<li><a class="nav-intl" href="intl.html">国际化</a></li>
<li><a class="nav-tracing" href="tracing.html">事件跟踪</a></li>
<li><a class="nav-esm" href="esm.html">ECMAScript 模块</a></li>
</ul>

    </div>

    <div id="column1" data-id="assert" class="interior">
      <header>
        <h1>Node.js v8.11.1 文档</h1>
        <div id="gtoc">
          <p>
            <a href="/api/" name="toc">返回文档首页</a>
            <!--<a href="/api/all.html">单页面显示</a> |-->
            <!--<a href="/api/assert.json">JSON格式</a> |-->
            <!--<a href="/api/en/assert.html">查看英文版</a>-->
          </p>
        </div>
        <hr>
      </header>

      <div id="toc">
        <h2>目录</h2>
        <ul>
<li><span class="stability_2"><a href="#assert_assert">assert - 断言</a></span><ul>
<li><span class="stability_undefined"><a href="#assert_assert_value_message">assert(value[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_deepequal_actual_expected_message">assert.deepEqual(actual, expected[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_deepstrictequal_actual_expected_message">assert.deepStrictEqual(actual, expected[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_doesnotthrow_block_error_message">assert.doesNotThrow(block[, error][, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_equal_actual_expected_message">assert.equal(actual, expected[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_fail_message">assert.fail(message)</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_fail_actual_expected_message_operator_stackstartfunction">assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_iferror_value">assert.ifError(value)</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_notdeepequal_actual_expected_message">assert.notDeepEqual(actual, expected[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_notdeepstrictequal_actual_expected_message">assert.notDeepStrictEqual(actual, expected[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_notequal_actual_expected_message">assert.notEqual(actual, expected[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_notstrictequal_actual_expected_message">assert.notStrictEqual(actual, expected[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_ok_value_message">assert.ok(value[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_strictequal_actual_expected_message">assert.strictEqual(actual, expected[, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_assert_throws_block_error_message">assert.throws(block[, error][, message])</a></span></li>
<li><span class="stability_undefined"><a href="#assert_caveats">注意事项</a></span></li>
</ul>
</li>
</ul>

      </div>

      <div id="apicontent">
        <h1>assert - 断言<span><a class="mark" href="#assert_assert" id="assert_assert">#</a></span></h1><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<!--introduced_in=v0.10.0-->
<div class="api_stability api_stability_2"><a href="documentation.html#documentation_stability_index">稳定性: 2</a> - 稳定的</div><p><code>assert</code> 模块提供了断言测试的函数，用于测试不变式。</p>
<h2>assert(value[, message])<span><a class="mark" href="#assert_assert_value_message" id="assert_assert_value_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_value_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_value_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v0.5.9</span>
</div><ul>
<li><code>value</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p><a href="#assert_assert_ok_value_message"><code>assert.ok()</code></a> 的别名。</p>
<h2>assert.deepEqual(actual, expected[, message])<span><a class="mark" href="#assert_assert_deepequal_actual_expected_message" id="assert_assert_deepequal_actual_expected_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_deepequal_actual_expected_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_deepequal_actual_expected_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v8.0.0</td>
<td><p>Set and Map content is also compared</p>
</td></tr>
<tr><td>v6.4.0, v4.7.1</td>
<td><p>Typed array slices are handled correctly now.</p>
</td></tr>
<tr><td>v6.1.0, v4.5.0</td>
<td><p>Objects with circular references can be used as inputs now.</p>
</td></tr>
<tr><td>v5.10.1, v4.4.3</td>
<td><p>Handle non-<code>Uint8Array</code> typed arrays correctly.</p>
</td></tr>
<tr><td>v0.1.21</td>
<td><p><span>新增于: v0.1.21</span></p>
</td></tr>
</tbody></table>
</details>
</div><ul>
<li><code>actual</code> <span class="type">&lt;any&gt;</span></li>
<li><code>expected</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>测试 <code>actual</code> 参数与 <code>expected</code> 参数是否深度相等。
原始值使用<a href="https://tc39.github.io/ecma262/#sec-abstract-equality-comparison">相等运算符</a>（<code>==</code>）比较。</p>
<p>只测试<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Enumerability_and_ownership_of_properties">可枚举的自身属性</a>，不测试对象的<a href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots">原型</a>、连接符、或不可枚举的属性（这些情况使用 <a href="#assert_assert_deepstrictequal_actual_expected_message"><code>assert.deepStrictEqual()</code></a>）。
例如，下面的例子不会抛出 <code>AssertionError</code>，因为 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions"><code>RegExp</code></a> 对象的属性不是可枚举的：</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_comment">// 不会抛出 AssertionError。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">deepEqual</span><span class="sh_symbol">(</span><span class="sh_regexp">/a/gi</span><span class="sh_symbol">,</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">Date</span><span class="sh_symbol">());</span>
</code></pre>
<p><a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Map"><code>Map</code></a> 和 <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a> 包含的子项也会被测试。</p>
<p>子对象中可枚举的自身属性也会被测试：</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

<span class="sh_keyword">const</span> obj1 <span class="sh_symbol">=</span> <span class="sh_cbracket">{</span>
  a<span class="sh_symbol">:</span> <span class="sh_cbracket">{</span>
    b<span class="sh_symbol">:</span> <span class="sh_number">1</span>
  <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
<span class="sh_keyword">const</span> obj2 <span class="sh_symbol">=</span> <span class="sh_cbracket">{</span>
  a<span class="sh_symbol">:</span> <span class="sh_cbracket">{</span>
    b<span class="sh_symbol">:</span> <span class="sh_number">2</span>
  <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
<span class="sh_keyword">const</span> obj3 <span class="sh_symbol">=</span> <span class="sh_cbracket">{</span>
  a<span class="sh_symbol">:</span> <span class="sh_cbracket">{</span>
    b<span class="sh_symbol">:</span> <span class="sh_number">1</span>
  <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
<span class="sh_keyword">const</span> obj4 <span class="sh_symbol">=</span> <span class="sh_predef_func">Object</span><span class="sh_symbol">.</span><span class="sh_function">create</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">deepEqual</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">,</span> obj1<span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过，对象与自身相等。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">deepEqual</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">,</span> obj2<span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: { a: { b: 1 } } deepEqual { a: { b: 2 } }</span>
<span class="sh_comment">// 因为 b 属性的值不同。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">deepEqual</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">,</span> obj3<span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过，两个对象相等。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">deepEqual</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">,</span> obj4<span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: { a: { b: 1 } } deepEqual {}</span>
<span class="sh_comment">// 因为不测试原型。</span>
</code></pre>
<p>如果两个值不相等，则抛出一个带有 <code>message</code> 属性的 <code>AssertionError</code>，其中 <code>message</code> 属性的值等于传入的 <code>message</code> 参数的值。
如果 <code>message</code> 参数为 <code>undefined</code>，则赋予默认的错误信息。</p>
<h2>assert.deepStrictEqual(actual, expected[, message])<span><a class="mark" href="#assert_assert_deepstrictequal_actual_expected_message" id="assert_assert_deepstrictequal_actual_expected_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_deepstrictequal_actual_expected_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_deepstrictequal_actual_expected_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v8.5.0</td>
<td><p>Error names and messages are now properly compared</p>
</td></tr>
<tr><td>v8.0.0</td>
<td><p>Set and Map content is also compared</p>
</td></tr>
<tr><td>v6.4.0, v4.7.1</td>
<td><p>Typed array slices are handled correctly now.</p>
</td></tr>
<tr><td>v6.1.0</td>
<td><p>Objects with circular references can be used as inputs now.</p>
</td></tr>
<tr><td>v5.10.1, v4.4.3</td>
<td><p>Handle non-<code>Uint8Array</code> typed arrays correctly.</p>
</td></tr>
<tr><td>v1.2.0</td>
<td><p><span>新增于: v1.2.0</span></p>
</td></tr>
</tbody></table>
</details>
</div><ul>
<li><code>actual</code> <span class="type">&lt;any&gt;</span></li>
<li><code>expected</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>与 <code>assert.deepEqual()</code> 大致相同，但有一些区别：</p>
<ol>
<li>原始值使用<a href="https://tc39.github.io/ecma262/#sec-strict-equality-comparison">全等运算符</a>（<code>===</code>）比较。<code>Set</code> 的值与 <code>Map</code> 的键使用 <a href="https://tc39.github.io/ecma262/#sec-samevaluezero">SameValueZero</a> 比较。</li>
<li>对象的<a href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots">原型</a>也使用全等运算符比较。</li>
<li>对象的<a href="https://tc39.github.io/ecma262/#sec-object.prototype.tostring">类型标签</a>要求相同。</li>
<li>比较[对象包装器][]时，其对象和里面的值要求相同。</li>
</ol>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">deepEqual</span><span class="sh_symbol">(</span><span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_number">1</span> <span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_string">'1'</span> <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过，因为 1 == '1'。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">deepStrictEqual</span><span class="sh_symbol">(</span><span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_number">1</span> <span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_string">'1'</span> <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: { a: 1 } deepStrictEqual { a: '1' }</span>
<span class="sh_comment">// 因为使用全等运算符 1 !== '1'。</span>

<span class="sh_comment">// 以下对象都没有自身属性。</span>
<span class="sh_keyword">const</span> date <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">Date</span><span class="sh_symbol">();</span>
<span class="sh_keyword">const</span> object <span class="sh_symbol">=</span> <span class="sh_cbracket">{}</span><span class="sh_symbol">;</span>
<span class="sh_keyword">const</span> fakeDate <span class="sh_symbol">=</span> <span class="sh_cbracket">{}</span><span class="sh_symbol">;</span>

<span class="sh_predef_func">Object</span><span class="sh_symbol">.</span><span class="sh_function">setPrototypeOf</span><span class="sh_symbol">(</span>fakeDate<span class="sh_symbol">,</span> <span class="sh_predef_func">Date</span><span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">deepEqual</span><span class="sh_symbol">(</span>object<span class="sh_symbol">,</span> fakeDate<span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过，不测试原型。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">deepStrictEqual</span><span class="sh_symbol">(</span>object<span class="sh_symbol">,</span> fakeDate<span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: {} deepStrictEqual Date {}</span>
<span class="sh_comment">// 因为原型不同。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">deepEqual</span><span class="sh_symbol">(</span>date<span class="sh_symbol">,</span> fakeDate<span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过，不测试类型标签。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">deepStrictEqual</span><span class="sh_symbol">(</span>date<span class="sh_symbol">,</span> fakeDate<span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: 2017-03-11T14:25:31.849Z deepStrictEqual Date {}</span>
<span class="sh_comment">// 因为类型标签不同。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">deepStrictEqual</span><span class="sh_symbol">(</span><span class="sh_keyword">new</span> <span class="sh_predef_func">Number</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">),</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">Number</span><span class="sh_symbol">(</span><span class="sh_number">2</span><span class="sh_symbol">));</span>
<span class="sh_comment">// 测试不通过，因为数值对象包装器里面的数值也会被比较。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">deepStrictEqual</span><span class="sh_symbol">(</span><span class="sh_keyword">new</span> <span class="sh_predef_func">String</span><span class="sh_symbol">(</span><span class="sh_string">'foo'</span><span class="sh_symbol">),</span> <span class="sh_predef_func">Object</span><span class="sh_symbol">(</span><span class="sh_string">'foo'</span><span class="sh_symbol">));</span>
<span class="sh_comment">// 测试通过，因为这两个对象和里面的字符串都是相同的</span>
</code></pre>
<p>如果两个值不相等，则抛出一个带有 <code>message</code> 属性的 <code>AssertionError</code>，其中 <code>message</code> 属性的值等于传入的 <code>message</code> 参数的值。
如果 <code>message</code> 参数为 <code>undefined</code>，则赋予默认的错误信息。</p>
<h2>assert.doesNotThrow(block[, error][, message])<span><a class="mark" href="#assert_assert_doesnotthrow_block_error_message" id="assert_assert_doesnotthrow_block_error_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_doesnotthrow_block_error_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_doesnotthrow_block_error_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v5.11.0, v4.4.5</td>
<td><p>The <code>message</code> parameter is respected now.</p>
</td></tr>
<tr><td>v4.2.0</td>
<td><p>The <code>error</code> parameter can now be an arrow function.</p>
</td></tr>
<tr><td>v0.1.21</td>
<td><p><span>新增于: v0.1.21</span></p>
</td></tr>
</tbody></table>
</details>
</div><ul>
<li><code>block</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li><code>error</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>断言 <code>block</code> 函数不会抛出错误。</p>
<p>当 <code>assert.doesNotThrow()</code> 被调用时，它会立即调用 <code>block</code> 函数。</p>
<p>如果抛出错误且错误类型与 <code>error</code> 参数指定的相同，则抛出 <code>AssertionError</code>。
如果错误类型不相同，或 <code>error</code> 参数为 <code>undefined</code>，则抛出错误。</p>
<p>以下例子会抛出 <a href="errors.html#errors_class_typeerror"><code>TypeError</code></a>，因为在断言中没有匹配的错误类型：</p>
<pre class="sh_sourceCode"><code class="lang-js">assert<span class="sh_symbol">.</span><span class="sh_function">doesNotThrow</span><span class="sh_symbol">(</span>
  <span class="sh_symbol">()</span> <span class="sh_symbol">=&gt;</span> <span class="sh_cbracket">{</span>
    <span class="sh_keyword">throw</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">TypeError</span><span class="sh_symbol">(</span><span class="sh_string">'错误信息'</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_predef_func">SyntaxError</span>
<span class="sh_symbol">);</span>
</code></pre>
<p>以下例子会抛出一个带有 <code>Got unwanted exception (TypeError)..</code> 信息的 <code>AssertionError</code>：</p>
<pre class="sh_sourceCode"><code class="lang-js">assert<span class="sh_symbol">.</span><span class="sh_function">doesNotThrow</span><span class="sh_symbol">(</span>
  <span class="sh_symbol">()</span> <span class="sh_symbol">=&gt;</span> <span class="sh_cbracket">{</span>
    <span class="sh_keyword">throw</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">TypeError</span><span class="sh_symbol">(</span><span class="sh_string">'错误信息'</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_predef_func">TypeError</span>
<span class="sh_symbol">);</span>
</code></pre>
<p>如果抛出了 <code>AssertionError</code> 且有给 <code>message</code> 参数传值，则 <code>message</code> 参数的值会被附加到 <code>AssertionError</code> 的信息中：</p>
<pre class="sh_sourceCode"><code class="lang-js">assert<span class="sh_symbol">.</span><span class="sh_function">doesNotThrow</span><span class="sh_symbol">(</span>
  <span class="sh_symbol">()</span> <span class="sh_symbol">=&gt;</span> <span class="sh_cbracket">{</span>
    <span class="sh_keyword">throw</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">TypeError</span><span class="sh_symbol">(</span><span class="sh_string">'错误信息'</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_predef_func">TypeError</span><span class="sh_symbol">,</span>
  <span class="sh_string">'抛出错误'</span>
<span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: Got unwanted exception (TypeError). 抛出错误</span>
</code></pre>
<h2>assert.equal(actual, expected[, message])<span><a class="mark" href="#assert_assert_equal_actual_expected_message" id="assert_assert_equal_actual_expected_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_equal_actual_expected_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_equal_actual_expected_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v0.1.21</span>
</div><ul>
<li><code>actual</code> <span class="type">&lt;any&gt;</span></li>
<li><code>expected</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>使用<a href="https://tc39.github.io/ecma262/#sec-abstract-equality-comparison">相等运算符</a>（<code>==</code>）测试 <code>actual</code> 参数与 <code>expected</code> 参数是否相等。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">equal</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过，1 == 1。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">equal</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_string">'1'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过，1 == '1'。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">equal</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: 1 == 2</span>
assert<span class="sh_symbol">.</span><span class="sh_function">equal</span><span class="sh_symbol">(</span><span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_cbracket">{</span> b<span class="sh_symbol">:</span> <span class="sh_number">1</span> <span class="sh_cbracket">}</span> <span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_cbracket">{</span> b<span class="sh_symbol">:</span> <span class="sh_number">1</span> <span class="sh_cbracket">}</span> <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: { a: { b: 1 } } == { a: { b: 1 } }</span>
</code></pre>
<p>如果两个值不相等，则抛出一个带有 <code>message</code> 属性的 <code>AssertionError</code>，其中 <code>message</code> 属性的值等于传入的 <code>message</code> 参数的值。
如果 <code>message</code> 参数为 <code>undefined</code>，则赋予默认的错误信息。</p>
<h2>assert.fail(message)<span><a class="mark" href="#assert_assert_fail_message" id="assert_assert_fail_message">#</a></span></h2>
<h2>assert.fail(actual, expected[, message[, operator[, stackStartFunction]]])<span><a class="mark" href="#assert_assert_fail_actual_expected_message_operator_stackstartfunction" id="assert_assert_fail_actual_expected_message_operator_stackstartfunction">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_fail_actual_expected_message_operator_stackstartfunction" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_fail_actual_expected_message_operator_stackstartfunction.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v0.1.21</span>
</div><ul>
<li><code>actual</code> <span class="type">&lt;any&gt;</span></li>
<li><code>expected</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
<li><code>operator</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#String_type" class="type">&lt;string&gt;</a> 默认为 <code>'!='</code>。</li>
<li><code>stackStartFunction</code> <span class="type">&lt;function&gt;</span> 默认为 <code>assert.fail</code>。</li>
</ul>
<p>抛出 <code>AssertionError</code>。
如果 <code>message</code> 参数为空，则错误信息为 <code>actual</code> 参数 + <code>operator</code> 参数 + <code>expected</code> 参数。
如果只提供了 <code>actual</code> 参数与 <code>expected</code> 参数，则 <code>operator</code> 参数默认为 <code>'!='</code>。
如果提供了 <code>message</code> 参数，则它会作为错误信息，其他参数会保存在错误对象的属性中。
如果提供了 <code>stackStartFunction</code> 参数，则该函数上的栈帧都会从栈信息中移除（详见 <a href="errors.html#errors_error_capturestacktrace_targetobject_constructoropt"><code>Error.captureStackTrace</code></a>）。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">fail</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">,</span> <span class="sh_predef_var">undefined</span><span class="sh_symbol">,</span> <span class="sh_string">'&gt;'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError [ERR_ASSERTION]: 1 &gt; 2</span>

assert<span class="sh_symbol">.</span><span class="sh_function">fail</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">,</span> <span class="sh_string">'错误信息'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError [ERR_ASSERTION]: 错误信息</span>

assert<span class="sh_symbol">.</span><span class="sh_function">fail</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">,</span> <span class="sh_string">'错误信息'</span><span class="sh_symbol">,</span> <span class="sh_string">'&gt;'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError [ERR_ASSERTION]: 错误信息</span>
<span class="sh_comment">// 上面两个例子的 `actual` 参数、`expected` 参数与 `operator` 参数不影响错误消息。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">fail</span><span class="sh_symbol">();</span>
<span class="sh_comment">// 抛出 AssertionError [ERR_ASSERTION]: Failed</span>

assert<span class="sh_symbol">.</span><span class="sh_function">fail</span><span class="sh_symbol">(</span><span class="sh_string">'错误信息'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError [ERR_ASSERTION]: 错误信息</span>

assert<span class="sh_symbol">.</span><span class="sh_function">fail</span><span class="sh_symbol">(</span><span class="sh_string">'a'</span><span class="sh_symbol">,</span> <span class="sh_string">'b'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError [ERR_ASSERTION]: 'a' != 'b'</span>
</code></pre>
<p>例子，使用 <code>stackStartFunction</code> 参数拦截异常的栈信息：</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">function</span> <span class="sh_function">suppressFrame</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>
  assert<span class="sh_symbol">.</span><span class="sh_function">fail</span><span class="sh_symbol">(</span><span class="sh_string">'a'</span><span class="sh_symbol">,</span> <span class="sh_string">'b'</span><span class="sh_symbol">,</span> <span class="sh_predef_var">undefined</span><span class="sh_symbol">,</span> <span class="sh_string">'!=='</span><span class="sh_symbol">,</span> suppressFrame<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span>
<span class="sh_function">suppressFrame</span><span class="sh_symbol">();</span>
<span class="sh_comment">// AssertionError [ERR_ASSERTION]: 'a' !== 'b'</span>
<span class="sh_comment">//     at repl:1:1</span>
<span class="sh_comment">//     at ContextifyScript.Script.runInThisContext (vm.js:44:33)</span>
<span class="sh_comment">//     ...</span>
</code></pre>
<h2>assert.ifError(value)<span><a class="mark" href="#assert_assert_iferror_value" id="assert_assert_iferror_value">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_iferror_value" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_iferror_value.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v0.1.97</span>
</div><ul>
<li><code>value</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>如果 <code>value</code> 为真，则抛出 <code>value</code>。
可用于测试回调函数的 <code>error</code> 参数。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">ifError</span><span class="sh_symbol">(</span><span class="sh_keyword">null</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">ifError</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">ifError</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 1。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">ifError</span><span class="sh_symbol">(</span><span class="sh_string">'error'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 'error'。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">ifError</span><span class="sh_symbol">(</span><span class="sh_keyword">new</span> <span class="sh_predef_func">Error</span><span class="sh_symbol">());</span>
<span class="sh_comment">// 抛出 Error。</span>
</code></pre>
<h2>assert.notDeepEqual(actual, expected[, message])<span><a class="mark" href="#assert_assert_notdeepequal_actual_expected_message" id="assert_assert_notdeepequal_actual_expected_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_notdeepequal_actual_expected_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_notdeepequal_actual_expected_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v0.1.21</span>
</div><ul>
<li><code>actual</code> <span class="type">&lt;any&gt;</span></li>
<li><code>expected</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>测试 <code>actual</code> 参数与 <code>expected</code> 参数是否不深度相等。
与 <a href="#assert_assert_deepequal_actual_expected_message"><code>assert.deepEqual()</code></a> 相反。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

<span class="sh_keyword">const</span> obj1 <span class="sh_symbol">=</span> <span class="sh_cbracket">{</span>
  a<span class="sh_symbol">:</span> <span class="sh_cbracket">{</span>
    b<span class="sh_symbol">:</span> <span class="sh_number">1</span>
  <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
<span class="sh_keyword">const</span> obj2 <span class="sh_symbol">=</span> <span class="sh_cbracket">{</span>
  a<span class="sh_symbol">:</span> <span class="sh_cbracket">{</span>
    b<span class="sh_symbol">:</span> <span class="sh_number">2</span>
  <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
<span class="sh_keyword">const</span> obj3 <span class="sh_symbol">=</span> <span class="sh_cbracket">{</span>
  a<span class="sh_symbol">:</span> <span class="sh_cbracket">{</span>
    b<span class="sh_symbol">:</span> <span class="sh_number">1</span>
  <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
<span class="sh_keyword">const</span> obj4 <span class="sh_symbol">=</span> <span class="sh_predef_func">Object</span><span class="sh_symbol">.</span><span class="sh_function">create</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notDeepEqual</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">,</span> obj1<span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: { a: { b: 1 } } notDeepEqual { a: { b: 1 } }</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notDeepEqual</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">,</span> obj2<span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过，obj1 与 obj2 不深度相等。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notDeepEqual</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">,</span> obj3<span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: { a: { b: 1 } } notDeepEqual { a: { b: 1 } }</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notDeepEqual</span><span class="sh_symbol">(</span>obj1<span class="sh_symbol">,</span> obj4<span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过，obj1 与 obj4 不深度相等。</span>
</code></pre>
<p>如果两个值深度相等，则抛出一个带有 <code>message</code> 属性的 <code>AssertionError</code>，其中 <code>message</code> 属性的值等于传入的 <code>message</code> 参数的值。
如果 <code>message</code> 参数为 <code>undefined</code>，则赋予默认的错误信息。</p>
<h2>assert.notDeepStrictEqual(actual, expected[, message])<span><a class="mark" href="#assert_assert_notdeepstrictequal_actual_expected_message" id="assert_assert_notdeepstrictequal_actual_expected_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_notdeepstrictequal_actual_expected_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_notdeepstrictequal_actual_expected_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v1.2.0</span>
</div><ul>
<li><code>actual</code> <span class="type">&lt;any&gt;</span></li>
<li><code>expected</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>测试 <code>actual</code> 参数与 <code>expected</code> 参数是否不深度全等。
与 <a href="#assert_assert_deepstrictequal_actual_expected_message"><code>assert.deepStrictEqual()</code></a> 相反。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notDeepEqual</span><span class="sh_symbol">(</span><span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_number">1</span> <span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_string">'1'</span> <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: { a: 1 } notDeepEqual { a: '1' }</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notDeepStrictEqual</span><span class="sh_symbol">(</span><span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_number">1</span> <span class="sh_cbracket">}</span><span class="sh_symbol">,</span> <span class="sh_cbracket">{</span> a<span class="sh_symbol">:</span> <span class="sh_string">'1'</span> <span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过。</span>
</code></pre>
<p>如果两个值深度全等，则抛出一个带有 <code>message</code> 属性的 <code>AssertionError</code>，其中 <code>message</code> 属性的值等于传入的 <code>message</code> 参数的值。
如果 <code>message</code> 参数为 <code>undefined</code>，则赋予默认的错误信息。</p>
<h2>assert.notEqual(actual, expected[, message])<span><a class="mark" href="#assert_assert_notequal_actual_expected_message" id="assert_assert_notequal_actual_expected_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_notequal_actual_expected_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_notequal_actual_expected_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v0.1.21</span>
</div><ul>
<li><code>actual</code> <span class="type">&lt;any&gt;</span></li>
<li><code>expected</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>使用<a href="https://tc39.github.io/ecma262/#sec-abstract-equality-comparison">不等运算符</a>（<code>!=</code>）测试 <code>actual</code> 参数与 <code>expected</code> 参数是否不相等。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notEqual</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notEqual</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: 1 != 1</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notEqual</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_string">'1'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: 1 != '1'</span>
</code></pre>
<p>如果两个值相等，则抛出一个带有 <code>message</code> 属性的 <code>AssertionError</code>，其中 <code>message</code> 属性的值等于传入的 <code>message</code> 参数的值。
如果 <code>message</code> 参数为 <code>undefined</code>，则赋予默认的错误信息。</p>
<h2>assert.notStrictEqual(actual, expected[, message])<span><a class="mark" href="#assert_assert_notstrictequal_actual_expected_message" id="assert_assert_notstrictequal_actual_expected_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_notstrictequal_actual_expected_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_notstrictequal_actual_expected_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v0.1.21</span>
</div><ul>
<li><code>actual</code> <span class="type">&lt;any&gt;</span></li>
<li><code>expected</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>使用<a href="https://tc39.github.io/ecma262/#sec-strict-equality-comparison">不全等运算符</a>（<code>!==</code>）测试 <code>actual</code> 参数与 <code>expected</code> 参数是否不全等。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notStrictEqual</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notStrictEqual</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: 1 !== 1</span>

assert<span class="sh_symbol">.</span><span class="sh_function">notStrictEqual</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_string">'1'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过。</span>
</code></pre>
<p>如果两个值全等，则抛出一个带有 <code>message</code> 属性的 <code>AssertionError</code>，其中 <code>message</code> 属性的值等于传入的 <code>message</code> 参数的值。
如果 <code>message</code> 参数为 <code>undefined</code>，则赋予默认的错误信息。</p>
<h2>assert.ok(value[, message])<span><a class="mark" href="#assert_assert_ok_value_message" id="assert_assert_ok_value_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_ok_value_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_ok_value_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v0.1.21</span>
</div><ul>
<li><code>value</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>测试 <code>value</code> 是否为真值。
相当于 <code>assert.equal(!!value, true, message)</code>。</p>
<p>如果 <code>value</code> 不为真值，则抛出一个带有 <code>message</code> 属性的 <code>AssertionError</code>，其中 <code>message</code> 属性的值等于传入的 <code>message</code> 参数的值。
如果 <code>message</code> 参数为 <code>undefined</code>，则赋予默认的错误信息。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">ok</span><span class="sh_symbol">(</span><span class="sh_keyword">true</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">ok</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过。</span>
assert<span class="sh_symbol">.</span><span class="sh_function">ok</span><span class="sh_symbol">(</span><span class="sh_keyword">false</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 "AssertionError: false == true"</span>
assert<span class="sh_symbol">.</span><span class="sh_function">ok</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 "AssertionError: 0 == true"</span>
assert<span class="sh_symbol">.</span><span class="sh_function">ok</span><span class="sh_symbol">(</span><span class="sh_keyword">false</span><span class="sh_symbol">,</span> <span class="sh_string">'不是真值'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 "AssertionError: 不是真值"</span>
</code></pre>
<h2>assert.strictEqual(actual, expected[, message])<span><a class="mark" href="#assert_assert_strictequal_actual_expected_message" id="assert_assert_strictequal_actual_expected_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_strictequal_actual_expected_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_strictequal_actual_expected_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<span>新增于: v0.1.21</span>
</div><ul>
<li><code>actual</code> <span class="type">&lt;any&gt;</span></li>
<li><code>expected</code> <span class="type">&lt;any&gt;</span></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>使用<a href="https://tc39.github.io/ecma262/#sec-strict-equality-comparison">全等运算符</a>（<code>===</code>）测试 <code>actual</code> 参数与 <code>expected</code> 参数是否全等。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> assert <span class="sh_symbol">=</span> <span class="sh_function">require</span><span class="sh_symbol">(</span><span class="sh_string">'assert'</span><span class="sh_symbol">);</span>

assert<span class="sh_symbol">.</span><span class="sh_function">strictEqual</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: 1 === 2</span>

assert<span class="sh_symbol">.</span><span class="sh_function">strictEqual</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 测试通过。</span>

assert<span class="sh_symbol">.</span><span class="sh_function">strictEqual</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_string">'1'</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: 1 === '1'</span>
</code></pre>
<p>如果两个值不全等，则抛出一个带有 <code>message</code> 属性的 <code>AssertionError</code>，其中 <code>message</code> 属性的值等于传入的 <code>message</code> 参数的值。
如果 <code>message</code> 参数为 <code>undefined</code>，则赋予默认的错误信息。</p>
<h2>assert.throws(block[, error][, message])<span><a class="mark" href="#assert_assert_throws_block_error_message" id="assert_assert_throws_block_error_message">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_assert_throws_block_error_message" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/assert_throws_block_error_message.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<div class="api_metadata">
<details class="changelog"><summary>版本历史</summary>
<table>
<tbody><tr><th>版本</th><th>变更</th></tr>
<tr><td>v4.2.0</td>
<td><p>The <code>error</code> parameter can now be an arrow function.</p>
</td></tr>
<tr><td>v0.1.21</td>
<td><p><span>新增于: v0.1.21</span></p>
</td></tr>
</tbody></table>
</details>
</div><ul>
<li><code>block</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li><code>error</code> 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" class="type">&lt;RegExp&gt;</a> | 
            <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="type">&lt;Function&gt;</a></li>
<li><code>message</code> <span class="type">&lt;any&gt;</span></li>
</ul>
<p>断言 <code>block</code> 函数会抛出错误。</p>
<p><code>error</code> 参数可以是构造函数、<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions">正则表达式</a>、或自定义函数。</p>
<p>如果指定了 <code>message</code> 参数，则当 <code>block</code> 函数不抛出错误时，<code>message</code> 参数会作为 <code>AssertionError</code> 的错误信息。</p>
<p>例子，<code>error</code> 参数为构造函数：</p>
<pre class="sh_sourceCode"><code class="lang-js">assert<span class="sh_symbol">.</span><span class="sh_keyword">throws</span><span class="sh_symbol">(</span>
  <span class="sh_symbol">()</span> <span class="sh_symbol">=&gt;</span> <span class="sh_cbracket">{</span>
    <span class="sh_keyword">throw</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">Error</span><span class="sh_symbol">(</span><span class="sh_string">'错误信息'</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_predef_func">Error</span>
<span class="sh_symbol">);</span>
</code></pre>
<p>例子，<code>error</code> 参数为正则表达式：</p>
<pre class="sh_sourceCode"><code class="lang-js">assert<span class="sh_symbol">.</span><span class="sh_keyword">throws</span><span class="sh_symbol">(</span>
  <span class="sh_symbol">()</span> <span class="sh_symbol">=&gt;</span> <span class="sh_cbracket">{</span>
    <span class="sh_keyword">throw</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">Error</span><span class="sh_symbol">(</span><span class="sh_string">'错误信息'</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_regexp">/错误/</span>
<span class="sh_symbol">);</span>
</code></pre>
<p>例子，<code>error</code> 参数为自定义函数：</p>
<pre class="sh_sourceCode"><code class="lang-js">assert<span class="sh_symbol">.</span><span class="sh_keyword">throws</span><span class="sh_symbol">(</span>
  <span class="sh_symbol">()</span> <span class="sh_symbol">=&gt;</span> <span class="sh_cbracket">{</span>
    <span class="sh_keyword">throw</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">Error</span><span class="sh_symbol">(</span><span class="sh_string">'错误信息'</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_keyword">function</span><span class="sh_symbol">(</span>err<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
    <span class="sh_keyword">if</span> <span class="sh_symbol">((</span>err <span class="sh_keyword">instanceof</span> <span class="sh_predef_func">Error</span><span class="sh_symbol">)</span> <span class="sh_symbol">&amp;&amp;</span> <span class="sh_regexp">/错误/</span><span class="sh_symbol">.</span><span class="sh_function">test</span><span class="sh_symbol">(</span>err<span class="sh_symbol">))</span> <span class="sh_cbracket">{</span>
      <span class="sh_keyword">return</span> <span class="sh_keyword">true</span><span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>
  <span class="sh_cbracket">}</span><span class="sh_symbol">,</span>
  <span class="sh_string">'不是期望的错误'</span>
<span class="sh_symbol">);</span>
</code></pre>
<p><code>error</code> 参数不能是字符串。
如果第二个参数是字符串，则视为省略 <code>error</code> 参数，传入的字符串会被用于 <code>message</code> 参数。
例如：</p>
<!-- eslint-disable no-restricted-syntax -->
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_comment">// 这是错误的！不要这么做！</span>
assert<span class="sh_symbol">.</span><span class="sh_keyword">throws</span><span class="sh_symbol">(</span>myFunction<span class="sh_symbol">,</span> <span class="sh_string">'错误信息'</span><span class="sh_symbol">,</span> <span class="sh_string">'没有抛出期望的信息'</span><span class="sh_symbol">);</span>

<span class="sh_comment">// 应该这么做。</span>
assert<span class="sh_symbol">.</span><span class="sh_keyword">throws</span><span class="sh_symbol">(</span>myFunction<span class="sh_symbol">,</span> <span class="sh_regexp">/错误信息/</span><span class="sh_symbol">,</span> <span class="sh_string">'没有抛出期望的信息'</span><span class="sh_symbol">);</span>
</code></pre>
<h2>注意事项<span><a class="mark" href="#assert_caveats" id="assert_caveats">#</a></span></h2><p style="font-size:12px;margin-top:-1em"><a href="/api/en/assert.html#assert_caveats" style="background:#4eba0f;color:#fff;">查看英文版</a>&nbsp;&nbsp;<a rel="nofollow" target="_blank" href="https://github.com/nodejscn/node-api-cn/edit/master/assert/caveats.md" style="background:#ec5315;color:#fff;">参与翻译</a></p>
<p>对于 <a href="https://tc39.github.io/ecma262/#sec-samevaluezero">SameValueZero</a> 比较，建议使用 ES2015 的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is"><code>Object.is()</code></a>。</p>
<pre class="sh_sourceCode"><code class="lang-js"><span class="sh_keyword">const</span> a <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
<span class="sh_keyword">const</span> b <span class="sh_symbol">=</span> <span class="sh_symbol">-</span>a<span class="sh_symbol">;</span>
assert<span class="sh_symbol">.</span><span class="sh_function">notStrictEqual</span><span class="sh_symbol">(</span>a<span class="sh_symbol">,</span> b<span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: 0 !== -0</span>
<span class="sh_comment">// 因为全等运算符不区分 -0 与 +0。</span>
<span class="sh_function">assert</span><span class="sh_symbol">(!</span><span class="sh_predef_func">Object</span><span class="sh_symbol">.</span><span class="sh_function">is</span><span class="sh_symbol">(</span>a<span class="sh_symbol">,</span> b<span class="sh_symbol">));</span>
<span class="sh_comment">// 但 Object.is() 可以区分。</span>

<span class="sh_keyword">const</span> str1 <span class="sh_symbol">=</span> <span class="sh_string">'foo'</span><span class="sh_symbol">;</span>
<span class="sh_keyword">const</span> str2 <span class="sh_symbol">=</span> <span class="sh_string">'foo'</span><span class="sh_symbol">;</span>
assert<span class="sh_symbol">.</span><span class="sh_function">strictEqual</span><span class="sh_symbol">(</span><span class="sh_normal">str1 </span><span class="sh_symbol">/</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_normal">str2 </span><span class="sh_symbol">/</span> <span class="sh_number">1</span><span class="sh_symbol">);</span>
<span class="sh_comment">// 抛出 AssertionError: NaN === NaN</span>
<span class="sh_comment">// 因为全等运算符不能用于测试 NaN。</span>
<span class="sh_function">assert</span><span class="sh_symbol">(</span><span class="sh_predef_func">Object</span><span class="sh_symbol">.</span><span class="sh_function">is</span><span class="sh_symbol">(</span><span class="sh_normal">str1 </span><span class="sh_symbol">/</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_normal">str2 </span><span class="sh_symbol">/</span> <span class="sh_number">1</span><span class="sh_symbol">));</span>
<span class="sh_comment">// 但 Object.is() 可以测试。</span>
</code></pre>
<p>详见<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Equality_comparisons_and_sameness">MDN的等式比较指南</a>。</p>

      </div>
    </div>
  </div>
  <!-- 搜索弹窗 -->
  <div id="modal_search_bg"></div>
  <div id="modal_search">
    <input placeholder="API 快速搜索" id="modal_search_input">
    <div id="modal_search_result"></div>
  </div>
  <!-- js -->
  <!--[if lt IE 10]><script src="/static/lib/placeholders.js?20170426"></script><![endif]-->
  <script src="//hm.baidu.com/hm.js?499f4c3231c1e5a1e72d19d00e822f09"></script><script src="/static/api.js?20170607"></script>

